!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";function r(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function o(e,n){return Object.getPrototypeOf(e).constructor===Object.getPrototypeOf(n).constructor}t.r(n),t.d(n,"FILE_NAME",(function(){return Hi})),t.d(n,"FableState",(function(){return Yi})),t.d(n,"FableState$reflection",(function(){return Xi})),t.d(n,"FableStateConfig",(function(){return Ki})),t.d(n,"FableStateConfig$reflection",(function(){return Qi})),t.d(n,"SourceWriter",(function(){return ts})),t.d(n,"SourceWriter$reflection",(function(){return rs})),t.d(n,"SourceWriter_$ctor",(function(){return os})),t.d(n,"SourceWriter__get_Result",(function(){return is})),t.d(n,"State",(function(){return es})),t.d(n,"State$reflection",(function(){return ns})),t.d(n,"box",(function(){return ls})),t.d(n,"escapeJsStringLiteral",(function(){return Ji})),t.d(n,"getAssemblyReader",(function(){return zi})),t.d(n,"loop",(function(){return us})),t.d(n,"makeFableState",(function(){return ss})),t.d(n,"measureTime",(function(){return Zi})),t.d(n,"worker",(function(){return cs}));class i{constructor(e){this.factory=e,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function s(e,n){let t=e.toString(10);for(;t.length<n;)t="0"+t;return t}function u(e){const n=e;return"number"==typeof n.offset?n.offset:1===e.kind?0:-6e4*e.getTimezoneOffset()}function c(e,n){return(e=e<0&&null!=n&&10!==n?4294967295+e+1:e).toString(n)}function l(e){let n=0,t=5381;const r=e.length;for(;n<r;)t=33*t^e.charCodeAt(n++);return t}function a(e){return 2654435761*e|0}function f(e){return 0===e.length?0:e.reduce((e,n)=>(e<<5)+e^n)}function h(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return a(e);case"string":return l(e);default:if(function(e){return"function"==typeof e.GetHashCode}(e))return e.GetHashCode();if(r(e)){const n=e.length,t=new Array(n);for(let r=0;r<n;r++)t[r]=h(e[r]);return f(t)}if(e instanceof Date)return e.getTime();if(Object.getPrototypeOf(e).constructor===Object){return f(Object.values(self).map(e=>h(e)))}return l(String(e))}}function d(e,n,t){if(null==e)return null==n;if(null==n)return!1;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}function w(e,n){return d(e,n,g)}function g(e,n){return e===n||(null==e?null==n:null!=n&&("object"==typeof e&&(function(e){return"function"==typeof e.Equals}(e)?e.Equals(n):r(e)?r(n)&&w(e,n):e instanceof Date?n instanceof Date&&0===m(e,n):Object.getPrototypeOf(e).constructor===Object&&function(e,n){const t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;t.sort(),r.sort();for(let o=0;o<t.length;o++)if(t[o]!==r[o]||!g(e[t[o]],n[r[o]]))return!1;return!0}(e,n))))}function m(e,n){let t,r;return"offset"in e&&"offset"in n?(t=e.getTime(),r=n.getTime()):(t=e.getTime()+u(e),r=n.getTime()+u(n)),t===r?0:t<r?-1:1}function p(e,n){return e===n?0:e<n?-1:1}function y(e,n){return function(e,n,t){if(null==e)return null==n?0:1;if(null==n)return-1;if(e.length!==n.length)return e.length<n.length?-1:1;for(let r=0,o=0;r<e.length;r++)if(o=t(e[r],n[r]),0!==o)return o;return 0}(e,n,S)}function S(e,n){return e===n?0:null==e?null==n?0:-1:null==n?1:"object"!=typeof e?e<n?-1:1:function(e){return"function"==typeof e.CompareTo}(e)?e.CompareTo(n):r(e)?r(n)?y(e,n):-1:e instanceof Date?n instanceof Date?m(e,n):-1:Object.getPrototypeOf(e).constructor===Object?function(e,n){const t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return t.length<r.length?-1:1;t.sort(),r.sort();for(let o=0,i=0;o<t.length;o++){const s=t[o];if(s!==r[o])return s<r[o]?-1:1;if(i=S(e[s],n[s]),0!==i)return i}return 0}(e,n):-1}function b(e,n){if(null==n)return;if(n.length>1)return n;let t;switch(e){case 2:t=(e,t)=>n(e)(t);break;case 3:t=(e,t,r)=>n(e)(t)(r);break;case 4:t=(e,t,r,o)=>n(e)(t)(r)(o);break;case 5:t=(e,t,r,o,i)=>n(e)(t)(r)(o)(i);break;case 6:t=(e,t,r,o,i,s)=>n(e)(t)(r)(o)(i)(s);break;case 7:t=(e,t,r,o,i,s,u)=>n(e)(t)(r)(o)(i)(s)(u);break;case 8:t=(e,t,r,o,i,s,u,c)=>n(e)(t)(r)(o)(i)(s)(u)(c);break;default:throw new Error("Uncurrying to more than 8-arity is not supported: "+e)}return t.__CURRIED__=n,t}function v(e,n,t){if(null!=n){if("__CURRIED__"in n){n=n.__CURRIED__;for(let e=0;e<t.length;e++)n=n(t[e]);return n}switch(e){case 1:return e=>n.apply(void 0,t.concat([e]));case 2:return e=>r=>n.apply(void 0,t.concat([e,r]));case 3:return e=>r=>o=>n.apply(void 0,t.concat([e,r,o]));case 4:return e=>r=>o=>i=>n.apply(void 0,t.concat([e,r,o,i]));case 5:return e=>r=>o=>i=>s=>n.apply(void 0,t.concat([e,r,o,i,s]));case 6:return e=>r=>o=>i=>s=>u=>n.apply(void 0,t.concat([e,r,o,i,s,u]));case 7:return e=>r=>o=>i=>s=>u=>c=>n.apply(void 0,t.concat([e,r,o,i,s,u,c]));case 8:return e=>r=>o=>i=>s=>u=>c=>l=>n.apply(void 0,t.concat([e,r,o,i,s,u,c,l]));default:throw new Error("Partially applying to more than 8-arity is not supported: "+e)}}}function C(e,n){function t(e,n,r,o){const i=r[o];if(0!==i){const e=i[0],t=i[1];e>1&&(n=function(e,n){if(null!=n){if("__CURRIED__"in n)return n.__CURRIED__;switch(e){case 2:return e=>t=>n(e,t);case 3:return e=>t=>r=>n(e,t,r);case 4:return e=>t=>r=>o=>n(e,t,r,o);case 5:return e=>t=>r=>o=>i=>n(e,t,r,o,i);case 6:return e=>t=>r=>o=>i=>s=>n(e,t,r,o,i,s);case 7:return e=>t=>r=>o=>i=>s=>u=>n(e,t,r,o,i,s,u);case 8:return e=>t=>r=>o=>i=>s=>u=>c=>n(e,t,r,o,i,s,u,c);default:throw new Error("Currying to more than 8-arity is not supported: "+e)}}}(e,n)),t>1&&(n=b(t,n))}const s=e(n);return o+1===r.length?s:e=>t(s,e,r,o+1)}return r=>t(e,r,n,0)}function E(e){let n=0,t="[";for(const r of e){if(0===n)t+=x(r);else{if(100===n){t+="; ...";break}t+="; "+x(r)}n++}return t+"]"}function x(e,n=0){if(null!=e&&"object"==typeof e){if("function"==typeof e.toString)return e.toString();if(Symbol.iterator in e)return E(e);{const t=Object.getPrototypeOf(e).constructor;return t===Object&&n<10?"{ "+Object.entries(e).map(([e,t])=>e+" = "+x(t,n+1)).join("\n  ")+" }":t.name}}return String(e)}function k(e,n){if(e===n)return 0;if(null==n)return-1;for(;null!=e.tail;){if(null==n.tail)return 1;const t=S(e.head,n.head);if(0!==t)return t;e=e.tail,n=n.tail}return null==n.tail?0:-1}class T{constructor(e,n){this.head=e,this.tail=n}[Symbol.iterator](){let e=this;return{next:()=>{const n=null==e?void 0:e.head,t=null==(null==e?void 0:e.tail);return e=null==e?void 0:e.tail,{done:t,value:n}}}}toJSON(){return Array.from(this)}toString(){return E(this)}GetHashCode(){return f(Array.from(this).map(h))}Equals(e){return 0===k(this,e)}CompareTo(e){return k(this,e)}}class M{get name(){return this.cases()[this.tag]}toJSON(){return 0===this.fields.length?this.name:[this.name].concat(this.fields)}toString(){if(0===this.fields.length)return this.name;{let e="",n=!0;if(1===this.fields.length){const t=x(this.fields[0]);n=t.indexOf(" ")>=0,e=t}else e=this.fields.map(e=>x(e)).join(", ");return this.name+(n?" (":" ")+e+(n?")":"")}}GetHashCode(){const e=this.fields.map(e=>h(e));return e.splice(0,0,a(this.tag)),f(e)}Equals(e){return this===e||!!o(this,e)&&(this.tag===e.tag&&w(this.fields,e.fields))}CompareTo(e){return this===e?0:o(this,e)?this.tag===e.tag?y(this.fields,e.fields):this.tag<e.tag?-1:1:-1}}class O{toJSON(){return function(e){const n={},t=Object.keys(e);for(let r=0;r<t.length;r++)n[t[r]]=e[t[r]];return n}(this)}toString(){return function(e){return"{ "+Object.entries(e).map(([e,n])=>e+" = "+x(n)).join("\n  ")+" }"}(this)}GetHashCode(){return function(e){return f(Object.values(e).map(e=>h(e)))}(this)}Equals(e){return function(e,n){if(e===n)return!0;if(o(e,n)){const t=Object.keys(e);for(let r=0;r<t.length;r++)if(!g(e[t[r]],n[t[r]]))return!1;return!0}return!1}(this,e)}CompareTo(e){return function(e,n){if(e===n)return 0;if(o(e,n)){const t=Object.keys(e);for(let r=0;r<t.length;r++){const o=S(e[t[r]],n[t[r]]);if(0!==o)return o}return 0}return-1}(this,e)}}class I{constructor(e,n){"function"==typeof n?(this.getter=e,this.setter=n):(this.getter=()=>e,this.setter=n=>{e=n})}get contents(){return this.getter()}set contents(e){this.setter(e)}}class F{constructor(e,n,t,r){this.declaringType=e,this.tag=n,this.name=t,this.fields=r}}class R{constructor(e,n,t,r,o,i,s){this.fullname=e,this.generics=n,this.construct=t,this.parent=r,this.fields=o,this.cases=i,this.enumCases=s}toString(){return J(this)}GetHashCode(){return D(this)}Equals(e){return _(this,e)}}function A(e){return null!=e.generics?e.generics:[]}function D(e){return f([l(e.fullname),...A(e).map(D)])}function _(e,n){return""===e.fullname?""===n.fullname&&d(oe(e),oe(n),([e,n],[t,r])=>e===t&&_(n,r)):e.fullname===n.fullname&&d(A(e),A(n),_)}function j(e,n,t,r){return new R(e,n,t,r)}function N(e,n,t,r){return new R(e,n,t,void 0,r)}function G(e,n,t,r){const o=new R(e,n,t,void 0,void 0,()=>{const e=t.prototype.cases();return r().map((n,t)=>new F(o,t,e[t],n))});return o}function P(...e){return new R("System.Tuple`"+e.length,e)}function L(e){return new R("Microsoft.FSharp.Core.FSharpOption`1",[e])}function W(e){return new R(e.fullname+"[]",[e])}const B=new R("System.Object"),U=new R("System.String"),$=new R("System.Boolean"),V=new R("System.Byte"),q=new R("System.Int32"),H=new R("System.Double");function z(e){if(Array.isArray(e))return e[0];if(e instanceof F)return e.name;{const n=e.fullname.lastIndexOf(".");return-1===n?e.fullname:e.fullname.substr(n+1)}}function J(e){const n=null==e.generics||Z(e)?[]:e.generics;return n.length>0?e.fullname+"["+n.map(e=>J(e)).join(",")+"]":e.fullname}function Z(e){return e.fullname.endsWith("[]")}function Y(e){var n;return Z(e)?null===(n=e.generics)||void 0===n?void 0:n[0]:void 0}function X(e){return null!=e.generics&&e.generics.length>0}function K(e){return null!=e.enumCases&&e.enumCases.length>0}function Q(e){return null==e.generics?e:new R(e.fullname,e.generics.map(()=>B))}function ee(e){var n;return null===(n=e.generics)||void 0===n?void 0:n[0]}function ne(e){if(K(e)&&null!=e.enumCases)return e.enumCases.map(e=>e[1]);throw new Error(e.fullname+" is not an enum type")}function te(e,n){const t=parseInt(n,10);return function(e,n){if(null!=e.enumCases){if("string"==typeof n){for(const t of e.enumCases)if(t[0]===n)return t;throw new Error(`'${n}' was not found in ${e.fullname}`)}for(const t of e.enumCases)if(t[1]===n)return t;return["",n]}throw new Error(e.fullname+" is not an enum type")}(e,isNaN(t)?n:t)[1]}function re(e){if(null!=e.cases)return e.cases();throw new Error(e.fullname+" is not an F# union type")}function oe(e){if(null!=e.fields)return e.fields();throw new Error(e.fullname+" is not an F# record type")}function ie(e){if(ce(e)&&null!=e.generics)return e.generics;throw new Error(e.fullname+" is not a tuple type")}function se(e){return e instanceof R?null!=e.cases:e instanceof M}function ue(e){return e instanceof R?null!=e.fields:e instanceof O}function ce(e){return e.fullname.startsWith("System.Tuple")&&!Z(e)}function le(e){return null==e.fields?[]:e.fields}function ae(e,n){const t=(e.fields||[]).length;if(n.length!==t)throw new Error(`Expected an array of length ${t} but got ${n.length}`);return null!=e.declaringType.construct?new e.declaringType.construct(e.tag,...n):{}}var fe;function he(e,n){switch(n){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function de(e,n,t){const r=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(null!=r){const[,,e,o]=r;if(!function(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}(t=t||function(e,n){if(n&fe.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}(e,n)).test(o))return function(e,n){const[,t,r,o]=e;return{sign:t||"",prefix:r||"",digits:o,radix:n}}(r,t)}return null}function we(e,n,t,r,o){try{return o.contents=function(e,n,t,r,o){const i=de(e,n,o);if(null!=i){let e=Number.parseInt(i.sign+i.digits,i.radix);if(!Number.isNaN(e)){const[n,o]=he(!0,r);!t&&10!==i.radix&&e>=n&&e<=o&&(e=e<<32-r>>32-r);const[s,u]=he(t,r);if(e>=s&&e<=u)return e}}throw new Error("Input string was not in a correct format.")}(e,n,t,r),!0}catch(e){return!1}}!function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"}(fe||(fe={}));var ge=null;try{ge=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function me(e,n,t){this.low=0|e,this.high=0|n,this.unsigned=!!t}function pe(e){return!0===(e&&e.__isLong__)}me.prototype.GetHashCode=function(){let e=this.unsigned?1:0;return e=(e<<5)+e^this.high,e=(e<<5)+e^this.low,e},me.prototype.Equals=function(e){return $e(this,e)},me.prototype.CompareTo=function(e){return ze(this,e)},me.prototype.toString=function(e){return Le(this,e)},me.prototype.toJSON=function(){return Le(this)},Object.defineProperty(me.prototype,"__isLong__",{value:!0});var ye={},Se={};function be(e,n){var t,r,o;return n?(o=0<=(e>>>=0)&&e<256)&&(r=Se[e])?r:(t=Ce(e,(0|e)<0?-1:0,!0),o&&(Se[e]=t),t):(o=-128<=(e|=0)&&e<128)&&(r=ye[e])?r:(t=Ce(e,e<0?-1:0,!1),o&&(ye[e]=t),t)}function ve(e,n){if(isNaN(e))return n?Fe:Ie;if(n){if(e<0)return Fe;if(e>=Te)return je}else{if(e<=-Me)return Ne;if(e+1>=Me)return _e}return e<0?Je(ve(-e,n)):Ce(e%ke|0,e/ke|0,n)}function Ce(e,n,t){return new me(e,n,t)}var Ee=Math.pow;function xe(e,n){return"number"==typeof e?ve(e,n):"string"==typeof e?function e(n,t,r){if(0===n.length)throw Error("empty string");if("NaN"===n||"Infinity"===n||"+Infinity"===n||"-Infinity"===n)return Ie;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var o=n.indexOf("-");if(o>0)throw Error("interior hyphen");if(0===o)return Je(e(n.substring(1),t,r));for(var i=ve(Ee(r,8)),s=Ie,u=0;u<n.length;u+=8){var c=Math.min(8,n.length-u),l=parseInt(n.substring(u,u+c),r);if(c<8)s=Ze(Xe(s,ve(Ee(r,c))),ve(l));else s=Ze(s=Xe(s,i),ve(l))}return s.unsigned=t,s}(e,n):Ce(e.low,e.high,"boolean"==typeof n?n:e.unsigned)}var ke=4294967296,Te=ke*ke,Me=Te/2,Oe=be(1<<24),Ie=be(0),Fe=be(0,!0),Re=be(1),Ae=be(1,!0),De=be(-1),_e=Ce(-1,2147483647,!1),je=Ce(-1,-1,!0),Ne=Ce(0,-2147483648,!1);function Ge(e){return e.unsigned?e.low>>>0:e.low}function Pe(e){return e.unsigned?(e.high>>>0)*ke+(e.low>>>0):e.high*ke+(e.low>>>0)}function Le(e,n){if((n=n||10)<2||36<n)throw RangeError("radix");if(We(e))return"0";if(Be(e)){if($e(e,Ne)){var t=ve(n),r=Ke(e,t),o=Ye(Xe(r,t),e);return Le(r,n)+Ge(o).toString(n)}return"-"+Le(Je(e),n)}for(var i=ve(Ee(n,6),e.unsigned),s=e,u="";;){var c=Ke(s,i),l=(Ge(Ye(s,Xe(c,i)))>>>0).toString(n);if(We(s=c))return l+u;for(;l.length<6;)l="0"+l;u=""+l+u}}function We(e){return 0===e.high&&0===e.low}function Be(e){return!e.unsigned&&e.high<0}function Ue(e){return 1==(1&e.low)}function $e(e,n){return pe(n)||(n=xe(n)),(e.unsigned===n.unsigned||e.high>>>31!=1||n.high>>>31!=1)&&(e.high===n.high&&e.low===n.low)}function Ve(e,n){return ze(e,n)<0}function qe(e,n){return ze(e,n)>0}function He(e,n){return ze(e,n)>=0}function ze(e,n){if(pe(n)||(n=xe(n)),$e(e,n))return 0;var t=Be(e),r=Be(n);return t&&!r?-1:!t&&r?1:e.unsigned?n.high>>>0>e.high>>>0||n.high===e.high&&n.low>>>0>e.low>>>0?-1:1:Be(Ye(e,n))?-1:1}function Je(e){return!e.unsigned&&$e(e,Ne)?Ne:Ze(function(e){return Ce(~e.low,~e.high,e.unsigned)}(e),Re)}function Ze(e,n){pe(n)||(n=xe(n));var t=e.high>>>16,r=65535&e.high,o=e.low>>>16,i=65535&e.low,s=n.high>>>16,u=65535&n.high,c=n.low>>>16,l=0,a=0,f=0,h=0;return f+=(h+=i+(65535&n.low))>>>16,a+=(f+=o+c)>>>16,l+=(a+=r+u)>>>16,l+=t+s,Ce((f&=65535)<<16|(h&=65535),(l&=65535)<<16|(a&=65535),e.unsigned)}function Ye(e,n){return pe(n)||(n=xe(n)),Ze(e,Je(n))}function Xe(e,n){if(We(e))return e.unsigned?Fe:Ie;if(pe(n)||(n=xe(n)),ge)return Ce(ge.mul(e.low,e.high,n.low,n.high),ge.get_high(),e.unsigned);if(We(n))return e.unsigned?Fe:Ie;if($e(e,Ne))return Ue(n)?Ne:Ie;if($e(n,Ne))return Ue(e)?Ne:Ie;if(Be(e))return Be(n)?Xe(Je(e),Je(n)):Je(Xe(Je(e),n));if(Be(n))return Je(Xe(e,Je(n)));if(Ve(e,Oe)&&Ve(n,Oe))return ve(Pe(e)*Pe(n),e.unsigned);var t=e.high>>>16,r=65535&e.high,o=e.low>>>16,i=65535&e.low,s=n.high>>>16,u=65535&n.high,c=n.low>>>16,l=65535&n.low,a=0,f=0,h=0,d=0;return h+=(d+=i*l)>>>16,f+=(h+=o*l)>>>16,h&=65535,f+=(h+=i*c)>>>16,a+=(f+=r*l)>>>16,f&=65535,a+=(f+=o*c)>>>16,f&=65535,a+=(f+=i*u)>>>16,a+=t*l+r*c+o*u+i*s,Ce((h&=65535)<<16|(d&=65535),(a&=65535)<<16|(f&=65535),e.unsigned)}function Ke(e,n){if(pe(n)||(n=xe(n)),We(n))throw Error("division by zero");var t,r,o;if(ge)return e.unsigned||-2147483648!==e.high||-1!==n.low||-1!==n.high?Ce((e.unsigned?ge.div_u:ge.div_s)(e.low,e.high,n.low,n.high),ge.get_high(),e.unsigned):e;if(We(e))return e.unsigned?Fe:Ie;if(e.unsigned){if(n.unsigned||(n=function(e){return e.unsigned?e:Ce(e.low,e.high,!0)}(n)),qe(n,e))return Fe;if(qe(n,function(e,n){pe(n)&&(n=Ge(n));if(0===(n&=63))return e;var t=e.high;return n<32?Ce(e.low>>>n|t<<32-n,t>>>n,e.unsigned):Ce(32===n?t:t>>>n-32,0,e.unsigned)}(e,1)))return Ae;o=Fe}else{if($e(e,Ne))return $e(n,Re)||$e(n,De)?Ne:$e(n,Ne)?Re:$e(t=function(e,n){pe(n)&&(n=Ge(n));return 0==(n&=63)?e:n<32?Ce(e.low<<n,e.high<<n|e.low>>>32-n,e.unsigned):Ce(0,e.low<<n-32,e.unsigned)}(Ke(function(e,n){pe(n)&&(n=Ge(n));return 0==(n&=63)?e:n<32?Ce(e.low>>>n|e.high<<32-n,e.high>>n,e.unsigned):Ce(e.high>>n-32,e.high>=0?0:-1,e.unsigned)}(e,1),n),1),Ie)?Be(n)?Re:De:o=Ze(t,Ke(r=Ye(e,Xe(n,t)),n));if($e(n,Ne))return e.unsigned?Fe:Ie;if(Be(e))return Be(n)?Ke(Je(e),Je(n)):Je(Ke(Je(e),n));if(Be(n))return Je(Ke(e,Je(n)));o=Ie}for(r=e;He(r,n);){t=Math.max(1,Math.floor(Pe(r)/Pe(n)));for(var i=Math.ceil(Math.log(t)/Math.LN2),s=i<=48?1:Ee(2,i-48),u=ve(t),c=Xe(u,n);Be(c)||qe(c,r);)c=Xe(u=ve(t-=s,e.unsigned),n);We(u)&&(u=Re),o=Ze(o,u),r=Ye(r,c)}return o}var Qe=me;const en=Ze,nn=Xe,tn=Ke,rn=function(e,n){return pe(n)||(n=xe(n)),ge?Ce((e.unsigned?ge.rem_u:ge.rem_s)(e.low,e.high,n.low,n.high),ge.get_high(),e.unsigned):Ye(e,Xe(Ke(e,n),n))},on=Je,sn=function(e,n){return pe(n)||(n=xe(n)),Ce(e.low&n.low,e.high&n.high,e.unsigned)},un=ze,cn=Ce,ln=function(e,n,t){return t?function(e,n){return new me(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)}(e,n):function(e,n){return new me(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)}(e,n)},an=Ge,fn=function(e,n){return n?function(e){var n=e.high,t=e.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&n,n>>>8&255,n>>>16&255,n>>>24]}(e):function(e){var n=e.high,t=e.low;return[n>>>24,n>>>16&255,n>>>8&255,255&n,t>>>24,t>>>16&255,t>>>8&255,255&t]}(e)},hn=Pe,dn=Le;function wn(e,n,t){let r=e,o=0;switch(t){case 0:r=e<<24>>24,o=r;break;case 4:r=e<<24>>>24;break;case 1:r=e<<16>>16,o=r;break;case 5:r=e<<16>>>16;break;case 2:r=e>>0,o=r;break;case 6:r=e>>>0}return Ce(r,o>>31,n)}const gn=/(?:Z|[+-](\d+):?([0-5]?\d)?)\s*$/;function mn(e){const n=e<0,t=(e=Math.abs(e))%36e5/6e4;return(n?"-":"+")+s(~~(e/36e5),2)+":"+s(t,2)}function pn(e,n){const t=e.toISOString();return"first"===n?t.substring(0,t.indexOf("T")):t.substring(t.indexOf("T")+1,t.length-1)}function yn(e,n,t){return n.replace(/(\w)\1*/g,n=>{let r=Number.NaN;switch(n.substring(0,1)){case"y":const o=t?e.getUTCFullYear():e.getFullYear();r=n.length<4?o%100:o;break;case"M":r=(t?e.getUTCMonth():e.getMonth())+1;break;case"d":r=t?e.getUTCDate():e.getDate();break;case"H":r=t?e.getUTCHours():e.getHours();break;case"h":const i=t?e.getUTCHours():e.getHours();r=i>12?i%12:i;break;case"m":r=t?e.getUTCMinutes():e.getMinutes();break;case"s":r=t?e.getUTCSeconds():e.getSeconds();break;case"f":r=t?e.getUTCMilliseconds():e.getMilliseconds()}return Number.isNaN(r)?n:r<10&&n.length>1?"0"+r:""+r})}function Sn(e,n){var t,r,o;const i=new Date(e.getTime()+(null!==(t=e.offset)&&void 0!==t?t:0));if("string"!=typeof n)return i.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+mn(null!==(r=e.offset)&&void 0!==r?r:0);if(1!==n.length)return yn(i,n,!0);switch(n){case"D":case"d":return pn(i,"first");case"T":case"t":return pn(i,"second");case"O":case"o":return function(e,n){const t=e.toISOString();return t.substring(0,t.length-1)+mn(n)}(i,null!==(o=e.offset)&&void 0!==o?o:0);default:throw new Error("Unrecognized Date print format")}}function bn(e,n){const t=1===e.kind;if("string"!=typeof n)return t?e.toUTCString():e.toLocaleString();if(1!==n.length)return yn(e,n,t);switch(n){case"D":case"d":return t?pn(e,"first"):e.toLocaleDateString();case"T":case"t":return t?pn(e,"second"):e.toLocaleTimeString();case"O":case"o":return function(e,n){if(n)return e.toISOString();{const n=null==e.kind||2===e.kind;return s(e.getFullYear(),4)+"-"+s(e.getMonth()+1,2)+"-"+s(e.getDate(),2)+"T"+s(e.getHours(),2)+":"+s(e.getMinutes(),2)+":"+s(e.getSeconds(),2)+"."+s(e.getMilliseconds(),3)+(n?mn(-6e4*e.getTimezoneOffset()):"")}}(e,t);default:throw new Error("Unrecognized Date print format")}}function vn(e,n,t){return null!=e.offset?Sn(e,n):bn(e,n)}function Cn(e,n){const t=new Date(e);return t.kind=0|(null==n?0:n),t}function En(e){if(null===e)throw new Error("Value cannot be null when parsing DateTime");if(""===e.trim())throw new Error("An empty string is not recognized as a valid DateTime");let n=new Date(e);if(isNaN(n.getTime())){const t=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*([+-]\d+(?::\d+)?)?\s*$/.exec(e);if(null==t)throw new Error("The string is not a valid Date.");{let e,r=0;if(null!=t[2]){const e=t[2].split(":");r=3600*parseInt(e[0],10)+60*parseInt(e[1]||"0",10)+parseFloat(e[2]||"0"),null!=t[3]&&"PM"===t[3].toUpperCase()&&(r+=720)}if(null!=t[4]){if(null!=t[1])e=new Date(t[1]+" UTC");else{const n=new Date;e=new Date(n.getUTCFullYear()+"/"+(n.getUTCMonth()+1)+"/"+n.getUTCDate())}const n=t[4].substr(1).split(":");let o=60*parseInt(n[0],10)+parseInt(n[1]||"0",10);"+"===t[4][0]&&(o*=-1),r+=60*o}else if(null!=t[1])e=new Date(t[1]);else{const n=new Date;e=new Date(n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate())}n=new Date(e.getTime()+1e3*r),n=new Date(n.getTime()+6e4*(n.getTimezoneOffset()-e.getTimezoneOffset()))}}return n}function xn(e,n){try{return n.contents=function(e,n=!1){const t=En(e),r=gn.exec(e),o=null!=r?n&&"Z"===r[0]?1:2:0;return Cn(t.getTime(),o)}(e),!0}catch(e){return!1}}var kn={GetHashCode(){return f([this.s,this.e].concat(this.c))},Equals(e){return!this.cmp(e)},CompareTo(e){return this.cmp(e)}},Tn="[big.js] ",Mn=Tn+"Invalid ",On=Mn+"decimal places",In=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Fn(e,n){var t,r,o;if(0===n&&1/n<0)n="-0";else if(!In.test(n+=""))throw Error(Mn+"number");for(e.s="-"==n.charAt(0)?(n=n.slice(1),-1):1,(t=n.indexOf("."))>-1&&(n=n.replace(".","")),(r=n.search(/e/i))>0?(t<0&&(t=r),t+=+n.slice(r+1),n=n.substring(0,r)):t<0&&(t=n.length),o=n.length,r=0;r<t&&r<o&&"0"==n.charAt(r);)++r;if(r==o)e.c=[e.e=0];else for(e.e=t-r-1,e.c=[],t=0;r<o;)e.c[t++]=+n.charAt(r++);return e=Rn(e,Dn.DP,Dn.RM)}function Rn(e,n,t,r){var o=e.c,i=e.e+n+1;if(i<o.length){if(1===t)r=o[i]>=5;else if(2===t)r=o[i]>5||5==o[i]&&(r||i<0||void 0!==o[i+1]||1&o[i-1]);else if(3===t)r=r||!!o[0];else if(r=!1,0!==t)throw Error("[big.js] Invalid rounding mode");if(i<1)o.length=1,r?(e.e=-n,o[0]=1):o[0]=e.e=0;else{if(o.length=i--,r)for(;++o[i]>9;)o[i]=0,i--||(++e.e,o.unshift(1));for(i=o.length;!o[--i];)o.pop()}}else if(t<0||t>3||t!==~~t)throw Error("[big.js] Invalid rounding mode");return e}function An(e,n,t,r){var o,i,s=e.constructor,u=!e.c[0];if(void 0!==t){if(t!==~~t||t<(3==n)||t>1e6)throw Error(3==n?Mn+"precision":On);for(t=r-(e=new s(e)).e,e.c.length>++r&&Rn(e,t,s.RM),2==n&&(r=e.e+t+1);e.c.length<r;)e.c.push(0)}if(o=e.e,t=(i=e.c.join("")).length,2!=n&&(1==n||3==n&&r<=o||o<=s.NE||o>=s.PE))i=i.charAt(0)+(t>1?"."+i.slice(1):"")+(o<0?"e":"e+")+o;else if(o<0){for(;++o;)i="0"+i;i="0."+i}else if(o>0)if(++o>t)for(o-=t;o--;)i+="0";else o<t&&(i=i.slice(0,o)+"."+i.slice(o));else t>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&(!u||4==n)?"-"+i:i}kn.abs=function(){var e=new this.constructor(this);return e.s=1,e},kn.cmp=function(e){var n,t=this.constructor,r=new t(this),o=(e=new t(e),r.c),i=e.c,s=r.s,u=e.s,c=r.e,l=e.e;if(!o[0]||!i[0])return o[0]?s:i[0]?-u:0;if(s!=u)return s;if(n=s<0,c!=l)return c>l^n?1:-1;for(u=Math.max(o.length,i.length),s=0;s<u;s++)if((c=s<o.length?o[s]:0)!=(l=s<i.length?i[s]:0))return c>l^n?1:-1;return 0},kn.div=function(e){var n=this.constructor,t=new n(this),r=(e=new n(e),t.c),o=e.c,i=t.s==e.s?1:-1,s=n.DP;if(s!==~~s||s<0||s>1e6)throw Error(On);if(!o[0])throw Error("[big.js] Division by zero");if(!r[0])return new n(0*i);var u,c,l,a,f,h=o.slice(),d=u=o.length,w=r.length,g=r.slice(0,u),m=g.length,p=e,y=p.c=[],S=0,b=s+(p.e=t.e-e.e)+1;for(p.s=i,i=b<0?0:b,h.unshift(0);m++<u;)g.push(0);do{for(l=0;l<10;l++){if(u!=(m=g.length))a=u>m?1:-1;else for(f=-1,a=0;++f<u;)if(o[f]!=g[f]){a=o[f]>g[f]?1:-1;break}if(!(a<0))break;for(c=m==u?o:h;m;){if(g[--m]<c[m]){for(f=m;f&&!g[--f];)g[f]=9;--g[f],g[m]+=10}g[m]-=c[m]}for(;!g[0];)g.shift()}y[S++]=a?l:++l,g[0]&&a?g[m]=r[d]||0:g=[r[d]]}while((d++<w||void 0!==g[0])&&i--);return y[0]||1==S||(y.shift(),p.e--),S>b&&Rn(p,s,n.RM,void 0!==g[0]),p},kn.eq=function(e){return!this.cmp(e)},kn.gt=function(e){return this.cmp(e)>0},kn.gte=function(e){return this.cmp(e)>-1},kn.lt=function(e){return this.cmp(e)<0},kn.lte=function(e){return this.cmp(e)<1},kn.minus=kn.sub=function(e){var n,t,r,o,i=this.constructor,s=new i(this),u=(e=new i(e),s.s),c=e.s;if(u!=c)return e.s=-c,s.plus(e);var l=s.c.slice(),a=s.e,f=e.c,h=e.e;if(!l[0]||!f[0])return f[0]?(e.s=-c,e):new i(l[0]?s:0);if(u=a-h){for((o=u<0)?(u=-u,r=l):(h=a,r=f),r.reverse(),c=u;c--;)r.push(0);r.reverse()}else for(t=((o=l.length<f.length)?l:f).length,u=c=0;c<t;c++)if(l[c]!=f[c]){o=l[c]<f[c];break}if(o&&(r=l,l=f,f=r,e.s=-e.s),(c=(t=f.length)-(n=l.length))>0)for(;c--;)l[n++]=0;for(c=n;t>u;){if(l[--t]<f[t]){for(n=t;n&&!l[--n];)l[n]=9;--l[n],l[t]+=10}l[t]-=f[t]}for(;0===l[--c];)l.pop();for(;0===l[0];)l.shift(),--h;return l[0]||(e.s=1,l=[h=0]),e.c=l,e.e=h,e},kn.mod=function(e){var n,t=this.constructor,r=new t(this),o=(e=new t(e),r.s),i=e.s;if(!e.c[0])throw Error("[big.js] Division by zero");return r.s=e.s=1,n=1==e.cmp(r),r.s=o,e.s=i,n?new t(r):(o=t.DP,i=t.RM,t.DP=t.RM=0,r=r.div(e),t.DP=o,t.RM=i,this.minus(r.times(e)))},kn.plus=kn.add=function(e){var n,t=this.constructor,r=new t(this),o=(e=new t(e),r.s),i=e.s;if(o!=i)return e.s=-i,r.minus(e);var s=r.e,u=r.c,c=e.e,l=e.c;if(!u[0]||!l[0])return l[0]?e:new t(u[0]?r:0*o);if(u=u.slice(),o=s-c){for(o>0?(c=s,n=l):(o=-o,n=u),n.reverse();o--;)n.push(0);n.reverse()}for(u.length-l.length<0&&(n=l,l=u,u=n),o=l.length,i=0;o;u[o]%=10)i=(u[--o]=u[o]+l[o]+i)/10|0;for(i&&(u.unshift(i),++c),o=u.length;0===u[--o];)u.pop();return e.c=u,e.e=c,e},kn.pow=function(e){var n=this.constructor,t=new n(this),r=new n(1),o=new n(1),i=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(Mn+"exponent");for(i&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return i?o.div(r):r},kn.round=function(e,n){var t=this.constructor;if(void 0===e)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(On);return Rn(new t(this),e,void 0===n?t.RM:n)},kn.sqrt=function(){var e,n,t,r=this.constructor,o=new r(this),i=o.s,s=o.e,u=new r(.5);if(!o.c[0])return new r(o);if(i<0)throw Error(Tn+"No square root");0===(i=Math.sqrt(o+""))||i===1/0?((n=o.c.join("")).length+s&1||(n+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new r(((i=Math.sqrt(n))==1/0?"1e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+s)):e=new r(i),s=e.e+(r.DP+=4);do{t=e,e=u.times(t.plus(o.div(t)))}while(t.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return Rn(e,r.DP-=4,r.RM)},kn.times=kn.mul=function(e){var n,t=this.constructor,r=new t(this),o=(e=new t(e),r.c),i=e.c,s=o.length,u=i.length,c=r.e,l=e.e;if(e.s=r.s==e.s?1:-1,!o[0]||!i[0])return new t(0*e.s);for(e.e=c+l,s<u&&(n=o,o=i,i=n,l=s,s=u,u=l),n=new Array(l=s+u);l--;)n[l]=0;for(c=u;c--;){for(u=0,l=s+c;l>c;)u=n[l]+i[c]*o[l-c-1]+u,n[l--]=u%10,u=u/10|0;n[l]=(n[l]+u)%10}for(u?++e.e:n.shift(),c=n.length;!n[--c];)n.pop();return e.c=n,e},kn.toExponential=function(e){return An(this,1,e,e)},kn.toFixed=function(e){return An(this,2,e,this.e+e)},kn.toPrecision=function(e){return An(this,3,e,e-1)},kn.toString=function(){return An(this)},kn.valueOf=kn.toJSON=function(){return An(this,4)};var Dn=function e(){function n(t){var r=this;if(!(r instanceof n))return void 0===t?e():new n(t);t instanceof n?(r.s=t.s,r.e=t.e,r.c=t.c.slice(),function(e){if((e=Rn(e,28,0)).c.length>1&&!e.c[0]){let n=e.c.findIndex(e=>e);e.c=e.c.slice(n),e.e=e.e-n}}(r)):Fn(r,t),r.constructor=n}return n.prototype=kn,n.DP=28,n.RM=1,n.NE=-29,n.PE=29,n.version="5.2.2",n}();new Dn(0),new Dn(1),new Dn(-1),new Dn("79228162514264337593543950335"),new Dn("-79228162514264337593543950335");function _n(e,n=0){if(0!=(-276&n))throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Singleline and ECMAScript");let t="g";return t+=1&n?"i":"",t+=2&n?"m":"",t+=16&n?"s":"",new RegExp(e,t)}function jn(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function Nn(e,n,t=0){let r;if(r=e instanceof RegExp?(r=e,e=n,r.lastIndex=t,r):r=_n(n,t),!r.global)throw new Error("Non-global RegExp");let o=r.exec(e);const i=[];for(;null!==o;)i.push(o),o=r.exec(e);return i}const Gn=/(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w)/,Pn=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function Ln(e){return"number"==typeof e||e instanceof Qe||e instanceof Dn}function Wn(e,n){return e instanceof Qe?un(e,n)<0:e instanceof Dn?e.cmp(n)<0:e<n}function Bn(e,n){return e instanceof Qe?nn(e,n):e instanceof Dn?e.mul(n):e*n}function Un(e,n){return e instanceof Qe?String(e)+(0).toFixed(n).substr(1):e.toFixed(n)}function $n(e,n){return e instanceof Qe?String(e)+(0).toPrecision(n).substr(1):e.toPrecision(n)}function Vn(e,n){return e instanceof Qe?String(e)+(0).toExponential(n).substr(1):e.toExponential(n)}function qn(e){return e instanceof Qe?dn(e.unsigned?e:ln(fn(e),!0),16):(Number(e)>>>0).toString(16)}function Hn(e){return{input:e,cont:(n=e,e=>Gn.test(n)?function e(n,t){return(...r)=>{let o=n;for(const e of r)o=Yn(o,e);return Gn.test(o)?e(o,t):t(o.replace(/%%/g,"%"))}}(n,e):e(n))};var n}function zn(e,n){return"string"==typeof n?e(n):n.cont(e)}function Jn(e){return zn(e=>e,e)}function Zn(e){return zn(e=>{throw new Error(e)},e)}function Yn(e,n){return e.replace(Gn,(e,t,r,o,i,s)=>function(e,n,t,r,o,i){let s="";if(t=t||"",i=i||"",Ln(e))switch("x"!==i.toLowerCase()&&(Wn(e,0)?(e=Bn(e,-1),s="-"):t.indexOf(" ")>=0?s=" ":t.indexOf("+")>=0&&(s="+")),o=null==o?null:parseInt(o,10),i){case"f":case"F":e=Un(e,o=null!=o?o:6);break;case"g":case"G":e=null!=o?$n(e,o):$n(e);break;case"e":case"E":e=null!=o?Vn(e,o):Vn(e);break;case"x":e=qn(e);break;case"X":e=qn(e).toUpperCase();break;default:e=String(e)}else e=e instanceof Date?vn(e):x(e);if(r=parseInt(r,10),isNaN(r))e=s+e;else{const n=t.indexOf("0")>=0,o=t.indexOf("-")>=0,i=o||!n?" ":"0";e="0"===i?s+(e=Qn(e,r-s.length,i,o)):Qn(s+e,r,i,o)}return n?n+e:e}(n,t,r,o,i,s).replace(/%/g,"%%"))}function Xn(e){return"string"!=typeof e||0===e.length}function Kn(e,n){return Array.isArray(n)?n.join(e):Array.from(n).join(e)}function Qn(e,n,t,r){t=t||" ",n-=e.length;for(let o=0;o<n;o++)e=r?e+t:t+e;return e}class et{constructor(e){this.value=e}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return h(this.value)}Equals(e){return null!=e&&g(this.value,e instanceof et?e.value:e)}CompareTo(e){return null==e?1:S(this.value,e instanceof et?e.value:e)}}function nt(e){return null==e||e instanceof et?new et(e):e}function tt(e){if(null==e)throw new Error("Option has no value");return e instanceof et?e.value:e}function rt(e,n){return null!=e?tt(e):n}class ot extends M{constructor(e,...n){super(),this.tag=0|e,this.fields=n}cases(){return["Ok","Error"]}}function it(e,n){return 0===n.tag?new ot(0,e(n.fields[0])):new ot(1,n.fields[0])}class st extends M{constructor(e,...n){super(),this.tag=0|e,this.fields=n}cases(){return["BadPrimitive","BadPrimitiveExtra","BadType","BadField","BadPath","TooSmallArray","FailMessage","BadOneOf"]}}class ut extends M{constructor(e,...n){super(),this.tag=0|e,this.fields=n}cases(){return["PascalCase","CamelCase","SnakeCase"]}}function ct(e){return e.slice(void 0,1).toLowerCase()+e.slice(1,e.length)}function lt(e,n){switch(e.tag){case 2:return function(e,n,t,r,o=0){if("string"==typeof e){const t=e;e=_n(n,null!=r?r:0),n=t,r=void 0}if("function"==typeof t)return r=null==r?-1:r,n.substring(0,o)+n.substring(o).replace(e,(function(){let e=arguments[0];if(r){r--;const n=[],o=arguments.length;for(let e=0;e<o-2;e++)n.push(arguments[e]);n.index=arguments[o-2],n.input=arguments[o-1],e=t(n)}return e}));if(t=t.replace(/\$0/g,e=>"$&"),null!=r){let i;const s=n.substring(o),u=Nn(e,s),c=Nn.length>r?(i=u[r-1],s.substring(0,i.index+i[0].length)):s;return n.substring(0,o)+c.replace(e,t)+n.substring(o+c.length)}return n.replace(e,t)}(ct(n),"[A-Z]","_$0").toLowerCase();case 0:return n;default:return ct(n)}}const at=/^[\(\{]{0,2}[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}[\)\}]{0,2}$/,ft=/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/,ht=/^\{0x[0-9a-f]{8},(0x[0-9a-f]{4},){2}\{(0x[0-9a-f]{2},){7}0x[0-9a-f]{2}\}\}$/;function dt(e){function n(e){return e.replace(ft,"$1-$2-$3-$4-$5")}const t=e.trim().toLowerCase();if(at.test(t))return function(e,...n){if(0===n.length)return e.trim();const t="["+jn(n.join(""))+"]+";return e.replace(new RegExp("^"+t),"").replace(new RegExp(t+"$"),"")}(t,"{","}","(",")");if(ft.test(t))return n(t);if(ht.test(t))return n(t.replace(/[\{\},]|0x/g,""));throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function wt(e,n){try{return n.contents=dt(e),!0}catch(e){return!1}}class gt{constructor(e){this.iter=e}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const e=this.iter.next();return this.current=e.value,!e.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function mt(e){return"function"==typeof e.GetEnumerator?e.GetEnumerator():new gt(e[Symbol.iterator]())}function pt(e){return{[Symbol.iterator](){return this},next(){const n=e["System.Collections.IEnumerator.MoveNext"]();return{done:!n,value:n?e["System.Collections.IEnumerator.get_Current"]():void 0}}}}class yt{constructor(e){this.f=e}[Symbol.iterator](){return new yt(this.f)}next(){var e;return this.iter=null!==(e=this.iter)&&void 0!==e?e:this.f(),this.iter.next()}toString(){return"seq ["+Array.from(this).join("; ")+"]"}}function St(e){return new yt(e)}function bt(e){return St(()=>e()[Symbol.iterator]())}function vt(e,n){return function(e,n){let t;for(const r=n[Symbol.iterator]();t=r.next(),!t.done;)if(e(t.value))return!0;return!1}(n=>g(n,e),n)}function Ct(e,n,t){if(function(e){return Array.isArray(e)||ArrayBuffer.isView(e)}(t))return t.reduce(e,n);{let r;for(let o=0,i=t[Symbol.iterator]();r=i.next(),!r.done;o++)n=e(n,r.value,o);return n}}function Et(e,n){Ct((n,t)=>{e(t)},void 0,n)}function xt(e,n){return bt(()=>kt(n=>{const t=n.next();return t.done?void 0:[e(t.value),n]},n[Symbol.iterator]()))}function kt(e,n){return St(()=>{let t=n;return{next(){const n=e(t);if(null!=n){const e=tt(n);if(null!=e)return t=e[1],{done:!1,value:e[0]}}return{done:!0,value:void 0}}}})}function Tt(e,n,t){const r=0|e.length,o=0|n.length,i=new(t||Array)(r+o);for(let n=0;n<=r-1;n++)i[n]=e[n];for(let e=0;e<=o-1;e++)i[e+r]=n[e];return i}function Mt(e,n,t,r){const o=0|n;return e.fill(r,o,o+t)}function Ot(e,n,t){const r=0|n.length,o=new(t||Array)(r);for(let t=0;t<=r-1;t++)o[t]=e(n[t]);return o}function It(e,n){const t=0|(p(r=0,o=e)>0?r:o);var r,o;return n.slice(0,0+t)}function Ft(e,n,t){return(r=>{for(;;){const o=r;if(o>=n.length)return!1;if(t.Equals(e,n[o]))return!0;r=o+1}})(0)}function Rt(e,n,t){if(e<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=new(t||Array)(e);for(let t=0;t<=e-1;t++)r[t]=n(t);return r}function At(e,n,t){return t.reduce(e,n)}function Dt(e,n,t,r){let o=r;n.length!==t.length&&function(){throw new Error("Arrays had different lengths")}();const i=0|n.length;for(let r=1;r<=i;r++)o=e(r-1,n[i-r],t[i-r],o);return o}class _t extends O{constructor(e,n){super(),this.bound=0|e,this.digits=n}}Rt(28,e=>function e(n,t){for(;;){const r=n,o=t;if(0===o)return 1;if(o%2!=0)return r*e(r*r,~~(o/2))|0;n=r*r,t=~~(o/2)}}(2,e),Int32Array);function jt(e){return e.bound}function Nt(e,n){return e.digits[n]}function Gt(e,n){return wn(Nt(e,n),!1,2)}function Pt(e,n,t){e.digits[n]=t}function Lt(e,n){for(;;){const t=e,r=n;if(0===r)return cn(1,0,!1);if(r%2!=0)return nn(t,Lt(nn(t,t),~~(r/2)));e=nn(t,t),n=~~(r/2)}}function Wt(e,n){for(;;){const t=e,r=n;if(0===r)return 1;if(r%2!=0)return t*Wt(t*t,~~(r/2))|0;e=t*t,n=~~(r/2)}}const Bt=cn(16777216,0,!1),Ut=cn(16777215,0,!1);function $t(e){return new _t(e,new Int32Array(e))}function Vt(e){const n=0|((e,n)=>{for(;;){const t=e,r=n;if(-1===r||0!==t[r])return r+1|0;e=t,n=r-1}})(e.digits,e.bound-1);return e.bound=n,e}function qt(e){const n=0|(e<0?0:e);if(n<16777216){const e=$t(1);return e.digits[0]=n,Vt(e)}{const e=$t(2);for(let t=0;t<=1;t++)e.digits[t]=~~(n/Wt(16777216,t))%16777216;return Vt(e)}}const Ht=qt(1),zt=qt(0);function Jt(e){return e.bound-1}function Zt(e){return 0===e.bound}function Yt(e,n){if(e.bound===n.bound){return((e,n,t)=>{for(;;){const r=e,o=n,i=t;if(-1===i)return!0;if(r[i]!==o[i])return!1;e=r,n=o,t=i-1}})(e.digits,n.digits,e.bound-1)}return!1}function Xt(e,n){return-1===function(e,n){return e.bound<n.bound?-1:e.bound>n.bound?1:0|((e,n,t)=>{for(;;){const r=e,o=n,i=t;if(-1===i)return 0;if(r[i]!==o[i])return r[i]<o[i]?-1:1;e=r,n=o,t=i-1}})(e.digits,n.digits,e.bound-1)}(e,n)}function Kt(e,n,t){let r;for(;;){const o=e,i=n,s=t;if(!(un(i,cn(0,0,!1))>0))break;{const u=en(Gt(o,s),i);Pt(o,s,(r=sn(u,Ut),~~an(r))),e=o,n=tn(u,Bt),t=s+1}}}function Qt(e,n){let t;const r=0|jt(e),o=$t(r+1|0),i=wn(n,!1,2);let s=cn(0,0,!1);for(let n=0;n<=r-1;n++){const r=en(en(s,Gt(o,n)),nn(Gt(e,n),i));Pt(o,n,(t=sn(r,Ut),~~an(t))),s=tn(r,Bt)}return Kt(o,s,r),Vt(o)}function er(e,n){const t=1===jt(e),r=1===jt(n);return t&&r?function(e,n){let t;const r=$t(2),o=nn(wn(e,!1,2),wn(n,!1,2));return Pt(r,0,(t=sn(o,Ut),~~an(t))),Pt(r,1,~~an(tn(o,Bt))),Vt(r)}(Nt(e,0),Nt(n,0)):t?Qt(n,Nt(e,0)):r?Qt(e,Nt(n,0)):function(e,n){let t;const r=$t(e.bound+n.bound|0),o=r.digits;for(let i=0;i<=e.bound-1;i++){const s=wn(e.digits[i],!1,2);let u=cn(0,0,!1),c=0|i;for(let e=0;e<=n.bound-1;e++){const r=wn(n.digits[e],!1,2),i=en(en(wn(o[c],!1,2),u),nn(s,r));o[c]=(t=sn(i,Ut),~~an(t)),u=tn(i,Bt),c+=1}Kt(r,u,c)}return Vt(r)}(e,n)}class nr extends O{constructor(e,n,t,r,o,i,s){super(),this.bigL=0|e,this.twoToBigL=0|n,this.k=0|t,this.bigK=0|r,this.bigN=0|o,this.split=0|i,this.splits=s}}function tr(e,n,t,r){return new nr(e,Wt(2,e),n,t,r,~~(24/e),Rt(~~(24/e),n=>Wt(2,e*n),Int32Array))}const rr=[tr(1,28,268435456,268435456),tr(2,26,67108864,134217728),tr(3,24,16777216,50331648),tr(4,22,4194304,16777216),tr(5,20,1048576,5242880),tr(6,18,262144,1572864),tr(7,16,65536,458752),tr(8,14,16384,131072),tr(9,12,4096,36864),tr(10,10,1024,10240),tr(11,8,256,2816),tr(12,6,64,768),tr(13,4,16,208)];Rt(24,e=>Wt(2,e)-1,Int32Array),Rt(24,e=>Wt(2,e),Int32Array),Rt(24,e=>Lt(cn(2,0,!1),e)),rr[0].bigN;function or(e,n,t,r){const o=[e.digits,Jt(e)],i=o[0],s=[t.digits,Jt(t)],u=0|s[1],c=s[0],l=wn(n,!1,2);let a=0,f=nn(l,wn(c[0],!1,2));for(;un(f,cn(0,0,!1))>0||a<u;){if(a>o[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let e,n;const t=sn(f,Ut);let s;n=~~an(t),e=n;s=tn(f,Bt),e<=i[a+r]?i[a+r]=i[a+r]-e:(i[a+r]=i[a+r]+(16777216-e),s=en(s,cn(1,0,!1))),f=a<u?en(s,nn(l,wn(c[a+1],!1,2))):s,a+=1}Vt(e)}function ir(e,n,t,r){const o=[e.digits,Jt(e)],i=o[0],s=[t.digits,Jt(t)],u=0|s[1],c=s[0],l=wn(n,!1,2);let a=0,f=nn(l,wn(c[0],!1,2));for(;un(f,cn(0,0,!1))>0||a<u;){if(a>o[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let e,n;const t=sn(f,Ut);let s;n=~~an(t),e=n;s=tn(f,Bt),e<16777216-i[a+r]?i[a+r]=i[a+r]+e:(i[a+r]=e-(16777216-i[a+r]),s=en(s,cn(1,0,!1))),f=a<u?en(s,nn(l,wn(c[a+1],!1,2))):s,a+=1}Vt(e)}function sr(e,n,t){const r=[Jt(n),Jt(e)],o=0|r[1],i=0|r[0];if(o<i+t)return 0;{const r=[n.digits,e.digits],a=r[1],f=r[0];let h;if(0===i)if(o===t)h=~~(a[t]/f[0]);else{const e=tn(en(nn(wn(a[o],!1,2),Bt),wn(a[o-1],!1,2)),wn(f[0],!1,2));h=~~an(e)}else if(o===i+t)h=~~(a[o]/(f[i]+1));else{const e=tn(en(nn(wn(a[o],!1,2),Bt),wn(a[o-1],!1,2)),en(wn(f[i],!1,2),cn(1,0,!1)));h=~~an(e)}if(0===h){return 1!=(u=t,c=e,l=0,(s=n).bound+u<c.bound+l?-1:s.bound+u>c.bound+u?1:0|((e,n,t)=>{e:for(;;){const r=e,o=n,i=t;if(-1===i)return 0;{const s=0|(i<u?0:r[i-u]),c=0|(i<l?0:o[i-l]);if(s===c){e=r,n=o,t=i-1;continue e}return s<c?-1:1}}})(s.digits,c.digits,s.bound+u-1))?1:0}return 0|h}var s,u,c,l}function ur(e,n){if(Zt(n))throw new Error;if(Jt(e)<Jt(n))return[zt,e];{const t=function(e){return new _t(e.bound,function(e){return e.slice()}(e.digits))}(e),r=$t(Jt(e)-Jt(n)+1+1);let o=0|Jt(e);const i=0|Jt(n);let s=o-i|0,u=!1;for(;!u;){const e=0|sr(t,n,s);e>0?(or(t,e,n,s),ir(r,e,Ht,s)):(u=0===e&&0===s,u||(o===i+s?s-=1:(s-=1,o-=1)))}return[Vt(r),Vt(t)]}}qt(2);function cr(e){return qt(e)}function lr(e){return function(e){const n=un(e,cn(0,0,!1))<0?cn(0,0,!1):e,t=$t(3);for(let e=0;e<=2;e++)t.digits[e]=~~an(rn(tn(n,Lt(Bt,e)),Bt));return Vt(t)}(e)}function ar(e){const n=0|Jt(e),t=((e,t,r)=>{for(;;){const o=e,i=t,s=r;if(Jt(s)>n)return new T([i,s],o);e=new T([i,s],o),t=i+1,r=er(s,s)}})(new T,0,qt(10)),r=(e,n,t,o)=>{if(null!=o.tail){const i=o.tail,s=ur(t,o.head[1]),u=s[1],c=s[0];if(e&&Zt(c)){return r(e,n,u,i)}{const t=r(!1,n,u,i);return r(e,t,c,i)}}{const r=0|function(e){if(1===e.bound)return 0|e.digits[0];{let n=0;for(let t=e.bound-1;t>=0;t--)n=e.digits[t]+16777216*n;return 0|n}}(t);return e&&0===r?n:new T(c(r),n)}},o=r(!0,new T,e,t);if(null==o.tail)return"0";{let e;return e=Array.from(o),Kn("",e)}}function fr(e){const n=e;return 0<n.bound?0|n.digits[0]:0}class hr extends O{constructor(e,n){super(),this.signInt=e,this.v=n}toString(){const e=this;switch(0|gr(e)){case-1:return Zt(mr(e))?"0":"-"+ar(mr(e));case 0:return"0";case 1:return ar(mr(e));default:throw new Error("signs should be +/- 1 or 0")}}Equals(e){return e instanceof hr&&pr(this,e)}GetHashCode(){return 0|(0===gr(e=this)?1:gr(e)+function(e){let n=0;for(let t=0;t<=e.bound-1;t++)n=e.digits[t]+(n<<3);return 0|n}(mr(e))|0);var e}CompareTo(e){if(e instanceof hr)return 0|(function(e,n){const t=[gr(e),gr(n)];let r;switch(r=-1===t[0]?-1===t[1]?1:0===t[1]?8:1===t[1]?3:9:0===t[0]?-1===t[1]?6:0===t[1]?4:1===t[1]?5:9:1===t[0]?-1===t[1]?2:0===t[1]?7:1===t[1]?0:9:9,r){case 0:return Xt(mr(e),mr(n));case 1:return Xt(mr(n),mr(e));case 2:return!1;case 3:return!Zt(mr(e))||!Zt(mr(n));case 4:return!1;case 5:return!Zt(mr(n));case 6:case 7:return!1;case 8:return!Zt(mr(e));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}(n=this,t=e)?-1:pr(n,t)?0:1);throw new Error("the objects are not comparable\\nParameter name: obj");var n,t}}function dr(e,n){return new hr(e,n)}function wr(e){return function(e){return e.bound<=1}(e)&&fr(e)<hr.smallLim?hr.smallPosTab[fr(e)]:e}function gr(e){return e.signInt}function mr(e){return e.v}function pr(e,n){const t=[gr(e),gr(n)];let r;switch(r=-1===t[0]?-1===t[1]?1:0===t[1]?8:1===t[1]?3:9:0===t[0]?-1===t[1]?6:0===t[1]?4:1===t[1]?5:9:1===t[0]?-1===t[1]?2:0===t[1]?7:1===t[1]?0:9:9,r){case 0:case 1:return Yt(mr(e),mr(n));case 2:case 3:return!!Zt(mr(e))&&Zt(mr(n));case 4:return!0;case 5:case 6:return Zt(mr(n));case 7:case 8:return Zt(mr(e));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}function yr(e){return e>=0?dr(1,wr(cr(e))):dr(-1,wr(-2147483648===e?lr(on(wn(e,!1,2))):cr(-2147483648===(n=e)?n:-n)));var n}function Sr(){return new T}function br(e,n){return new T(e,n)}function vr(e,n,t){for(;;){const r=e,o=n,i=t;if(null==i.tail)return o;e=r,n=r(o,i.head),t=i.tail}}function Cr(e){return vr((e,n)=>new T(n,e),new T,e)}function Er(e,n){let t=n;for(let n=function(e){if(r(e))return e.length;{let n=0;for(const t of e)n++;return n}}(e)-1;n>=0;n--)t=new T(e[n],t);return t}function xr(e,n){const t=new Date(e);return t.offset=null!=n?n:-6e4*(new Date).getTimezoneOffset(),t}function kr(e,n){try{return n.contents=function(e){const n=En(e),t=gn.exec(e),r=null==t?-6e4*n.getTimezoneOffset():"Z"===t[0]?0:36e5*parseInt(t[1],10)+6e4*parseInt(t[2],10);return xr(n.getTime(),r)}(e),!0}catch(e){return!1}}function Tr(e){return e<0?Math.ceil(e):Math.floor(e)}function Mr(e=0,n=0,t=0,r=0,o=0){switch(arguments.length){case 1:return Or(arguments[0]);case 3:e=0,n=arguments[0],t=arguments[1],r=arguments[2],o=0}return 864e5*e+36e5*n+6e4*t+1e3*r+o}function Or(e){return hn(tn(e,1e4))}function Ir(e,n="c",t){if(-1===["c","g","G"].indexOf(n))throw new Error("Custom formats are not supported");const r=Math.abs(function(e){return Tr(e/864e5)}(e)),o=Math.abs(function(e){return Tr(e%864e5/36e5)}(e)),i=Math.abs(function(e){return Tr(e%36e5/6e4)}(e)),u=Math.abs(function(e){return Tr(e%6e4/1e3)}(e)),c=Math.abs(function(e){return Tr(e%1e3)}(e));return`${e<0?"-":""}${0!==r||"c"!==n&&"g"!==n?"c"===n?r+".":r+":":""}${"g"===n?o:s(o,2)}:${s(i,2)}:${s(u,2)}${0!==c||"c"!==n&&"g"!==n?"g"===n?"."+s(c,3):"."+function(e,n,t){let r=e.toString(10);for(;r.length<n;)r="0"+r;for(;r.length<t;)r+="0";return r}(c,3,7):""}`}function Fr(e,n){try{return n.contents=function(e){const n=e.search("\\."),t=e.search("\\:");if(-1===n&&-1===t){const n=parseInt(e,0);if(isNaN(n))throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`);return Mr(n,0,0,0,0)}if(t>0){const n=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(e);if(null!=n&&null!=n[4]&&null!=n[5]){let t=0,r=0,o=0;const i=null!=n[1]&&"-"===n[1]?-1:1,s=+n[4],u=+n[5];if(null!=n[3]&&(t=+n[3]),null!=n[7]&&(o=+n[7]),null!=n[8])switch(n[8].length){case 1:r=100*+n[8];break;case 2:r=10*+n[8];break;case 3:r=+n[8];break;case 4:r=+n[8]/10;break;case 5:r=+n[8]/100;break;case 6:r=+n[8]/1e3;break;case 7:r=+n[8]/1e4;break;default:throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}return i*Mr(t,s,u,o,r)}}throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}(e),!0}catch(e){return!1}}hr.smallLim=4096,hr.smallPosTab=Rt(hr.smallLim,cr),hr.one=yr(1),hr.two=yr(2),hr.zero=yr(0);class Rr{constructor(e,n){this.buf=[],Xn(e)||this.buf.push(e)}toString(){return Kn("",this.buf)}}function Ar(){return function(e,n){return new Rr(e,n)}("",16)}function Dr(){return e=S,{Compare:(n,t)=>e(n,t)};var e}class _r{constructor(e,n){this.k=e,this.v=n}}function jr(e,n){return new _r(e,n)}function Nr(e){return e.k}function Gr(e){return e.v}class Pr extends _r{constructor(e,n,t,r,o){super(e,n),this.left=t,this.right=r,this.h=o}}function Lr(e,n,t,r,o){return new Pr(e,n,t,r,o)}function Wr(e){return e.left}function Br(e){return e.right}function Ur(e){return e.h}function $r(e){return function e(n,t){e:for(;;){const r=n,o=t;if(null!=o){const i=o;if(i instanceof Pr){n=e(r+1,Wr(i)),t=Br(i);continue e}return r+1|0}return 0|r}}(0,e)}function Vr(e,n,t,r){let o;if(null!=e){const n=e;o=n instanceof Pr?Ur(n):1}else o=0;let i;if(null!=r){const e=r;i=e instanceof Pr?Ur(e):1}else i=0;const s=0|(o<i?i:o);if(0===s){return jr(n,t)}return Lr(n,t,e,r,s+1)}function qr(e,n,t,r){let o,i,s,u,c;if(null!=e){const n=e;c=n instanceof Pr?Ur(n):1}else c=0;let l;if(null!=r){const e=r;l=e instanceof Pr?Ur(e):1}else l=0;if(l>c+2){const s=r;if(s instanceof Pr){if(o=Wr(s),(null!=o?(i=o,i instanceof Pr?Ur(i):1):0)>c+1){const r=Wr(s);if(r instanceof Pr)return Vr(Vr(e,n,t,Wr(r)),Nr(r),Gr(r),Vr(Br(r),Nr(s),Gr(s),Br(s)));throw new Error("internal error: Map.rebalance")}return Vr(Vr(e,n,t,Wr(s)),Nr(s),Gr(s),Br(s))}throw new Error("internal error: Map.rebalance")}if(c>l+2){const o=e;if(o instanceof Pr){if(s=Br(o),(null!=s?(u=s,u instanceof Pr?Ur(u):1):0)>l+1){const e=Br(o);if(e instanceof Pr)return Vr(Vr(Wr(o),Nr(o),Gr(o),Wr(e)),Nr(e),Gr(e),Vr(Br(e),n,t,r));throw new Error("internal error: Map.rebalance")}return Vr(Wr(o),Nr(o),Gr(o),Vr(Br(o),n,t,r))}throw new Error("internal error: Map.rebalance")}return Vr(e,n,t,r)}function Hr(e,n,t,r){if(null!=r){const o=r,i=0|e.Compare(n,Nr(o));if(o instanceof Pr){if(i<0)return qr(Hr(e,n,t,Wr(o)),Nr(o),Gr(o),Br(o));if(0===i){return Lr(n,t,Wr(o),Br(o),Ur(o))}return qr(Wr(o),Nr(o),Gr(o),Hr(e,n,t,Br(o)))}if(i<0){return Lr(n,t,void 0,r,2)}if(0===i){return jr(n,t)}return Lr(n,t,r,void 0,2)}return jr(n,t)}function zr(e,n,t){e:for(;;){const r=e,o=n,i=t;if(null!=i){const s=i,u=0|r.Compare(o,Nr(s));if(0===u)return nt(Gr(s));if(s instanceof Pr){e=r,n=o,t=u<0?Wr(s):Br(s);continue e}return}return}}function Jr(e,n){!function e(n,t){e:for(;;){const r=n,o=t;if(null!=o){const i=o;if(i instanceof Pr){e(r,Wr(i)),r(Nr(i),Gr(i)),n=r,t=Br(i);continue e}r(Nr(i),Gr(i))}break}}(e,n)}function Zr(e,n){return function e(n,t){if(null!=t){const r=t;if(r instanceof Pr){const t=e(n,Wr(r)),o=n(Nr(r),Gr(r)),i=e(n,Br(r));return Lr(Nr(r),o,t,i,Ur(r))}return jr(Nr(r),n(Nr(r),Gr(r)))}}(e,n)}function Yr(e,n){if(r(n))return function(e,n){let t=void 0;for(let r=0;r<=n.length-1;r++){const o=n[r];t=Hr(e,o[0],o[1],t)}return t}(e,n);if(n instanceof T)return function(e,n){return vr((n,t)=>Hr(e,t[0],t[1],n),void 0,n)}(e,n);{const t=mt(n);try{return function(e,n,t){for(;;){const r=e,o=n,i=t;if(!i["System.Collections.IEnumerator.MoveNext"]())return o;{const s=i["System.Collections.Generic.IEnumerator`1.get_Current"]();e=r,n=Hr(r,s[0],s[1],o),t=i}}}(e,void 0,t)}finally{t.Dispose()}}}class Xr extends O{constructor(e,n){super(),this.stack=e,this.started=n}}function Kr(e){let n;e:for(;;){const t=e;if(null==t.tail)return new T;{const r=t.tail,o=t.head;if(null!=o){const i=o;if(i instanceof Pr){e=new T(Wr(i),new T((n=jr(Nr(i),Gr(i)),n),new T(Br(i),r)));continue e}return t}e=r}}}function Qr(e){return new Xr(Kr(new T(e,new T)),!1)}function eo(e){if(e.started){const n=e.stack;if(null!=n.tail){if(null!=n.head){const e=n.head;if(e instanceof Pr)throw new Error("Please report error: Map iterator, unexpected stack for current");return[Nr(e),Gr(e)]}throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration already finished")}()}return function(){throw new Error("enumeration not started")}()}function no(e){let n=Qr(e);return{"System.Collections.Generic.IEnumerator`1.get_Current":()=>eo(n),"System.Collections.IEnumerator.get_Current":()=>eo(n),"System.Collections.IEnumerator.MoveNext":()=>function(e){if(e.started){const n=e.stack;if(null!=n.tail){if(null!=n.head){if(n.head instanceof Pr)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return e.stack=Kr(n.tail),!(null==e.stack.tail)}throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return!1}return e.started=!0,!(null==e.stack.tail)}(n),"System.Collections.IEnumerator.Reset"(){n=Qr(e)},Dispose(){}}}class to{constructor(e,n){this.comparer=e,this.tree=n}GetHashCode(){return 0|function(e){const n=(e,n)=>(e<<1)+n+631;let t=0;const r=mt(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const e=r["System.Collections.Generic.IEnumerator`1.get_Current"]();t=n(t,h(e[0])),t=n(t,h(e[1]))}}finally{r.Dispose()}return 0|t}(this)}Equals(e){if(!(e instanceof to))return!1;{const n=mt(this);try{const t=mt(e);try{const e=()=>{const r=n["System.Collections.IEnumerator.MoveNext"]();if(r===t["System.Collections.IEnumerator.MoveNext"]()){if(r){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"](),o=t["System.Collections.Generic.IEnumerator`1.get_Current"]();return!(!g(r[0],o[0])||!g(r[1],o[1]))&&e()}return!0}return!1};return e()}finally{t.Dispose()}}finally{n.Dispose()}}}toString(){let e,n;return n=xt(e=>function(e,...n){return"object"==typeof e&&n.length>0&&(e=n[0],n.shift()),e.replace(Pn,(e,t,r,o,i,s)=>{let u=n[t];if(Ln(u))switch(i=null==i?null:parseInt(i,10),o){case"f":case"F":u=Un(u,i=null!=i?i:2);break;case"g":case"G":u=null!=i?$n(u,i):$n(u);break;case"e":case"E":u=null!=i?Vn(u,i):Vn(u);break;case"p":case"P":i=null!=i?i:2,u=Un(Bn(u,100),i)+" %";break;case"d":case"D":u=null!=i?Qn(String(u),i,"0"):String(u);break;case"x":case"X":u=null!=i?Qn(qn(u),i,"0"):qn(u),"X"===o&&(u=u.toUpperCase());break;default:if(s){let e="";u=s.replace(/(0+)(\.0+)?/,(n,t,r)=>(Wn(u,0)&&(u=Bn(u,-1),e="-"),u=Un(u,null!=r?r.length-1:0),Qn(u,(t||"").length-e.length+(null!=r?r.length:0),"0"))),u=e+u}}else u=u instanceof Date?vn(u,s||o):x(u);return r=parseInt((r||" ").substring(1),10),isNaN(r)||(u=Qn(String(u),Math.abs(r)," ",r<0)),u})}("({0}, {1})",e[0],e[1]),this),e=Kn("; ",n),"map ["+e+"]"}get[Symbol.toStringTag](){return"FSharpMap"}GetEnumerator(){return no(this.tree)}[Symbol.iterator](){return pt(this.GetEnumerator())}"System.Collections.IEnumerable.GetEnumerator"(){return no(this.tree)}CompareTo(e){const n=this;if(e instanceof to)return 0|function(e,n,t){if(n===t)return 0;let r,o,i=0;for(const s=n[Symbol.iterator](),u=t[Symbol.iterator]();(r=s.next(),o=u.next(),!r.done&&!o.done)&&(i=e(r.value,o.value),0===i););return 0!==i?i:r.done&&!o.done?-1:!r.done&&o.done?1:0}((e,t)=>{const r=0|n.comparer.Compare(e[0],t[0]);return 0|(0!==r?r:S(e[1],t[1]))},n,e);throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(e){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(e){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(e){return!!so(this,e[0])&&g(oo(this,e[0]),e[1])}"System.Collections.Generic.ICollection`1.CopyToZ2E171D71"(e,n){!function(e,n,t){let r=0|t;Jr((e,t)=>{n[r]=[e,t],r+=1},e)}(this.tree,e,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|io(this)}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return 0|io(this)}get size(){return 0|io(this)}clear(){throw new Error("Map cannot be mutated")}delete(e){throw new Error("Map cannot be mutated")}entries(){return xt(e=>[e[0],e[1]],this)}get(e){return oo(this,e)}has(e){return so(this,e)}keys(){return xt(e=>e[0],this)}set(e,n){throw new Error("Map cannot be mutated")}values(){return xt(e=>e[1],this)}forEach(e,n){const t=this;Et(n=>{v(2,e,[n[1]])(n[0])(t)},t)}}function ro(e,n){return new to(e,n)}function oo(e,n){return function(e,n,t){const r=zr(e,n,t);if(null==r)throw new Error;return tt(r)}(e.comparer,n,e.tree)}function io(e){return $r(e.tree)}function so(e,n){return function(e,n,t){e:for(;;){const r=e,o=n,i=t;if(null!=i){const s=i,u=0|r.Compare(o,Nr(s));if(s instanceof Pr){if(u<0){e=r,n=o,t=Wr(s);continue e}if(0===u)return!0;e=r,n=o,t=Br(s);continue e}return 0===u}return!1}}(e.comparer,n,e.tree)}function uo(e,n,t){return function(e,n,t){return ro(e.comparer,Hr(e.comparer,n,t,e.tree))}(t,e,n)}function co(e,n){return function(e,n){return zr(e.comparer,n,e.tree)}(n,e)}function lo(e,n){return r=e,ro((t=n).comparer,Zr(r,t.tree));var t,r}function ao(e){return function(e){const n=Dr();return ro(n,Yr(n,e))}(e)}function fo(){return to.empty}(()=>{const e=Dr();to.empty=ro(e,void 0)})();class ho{constructor(e){this.k=e}}function wo(e){return new ho(e)}function go(e){return e.k}class mo extends ho{constructor(e,n,t,r){super(e),this.left=n,this.right=t,this.h=r}}function po(e,n,t,r){return new mo(e,n,t,r)}function yo(e){return e.left}function So(e){return e.right}function bo(e){return e.h}function vo(e){return function e(n,t){e:for(;;){const r=n,o=t;if(null!=r){const i=r;if(i instanceof mo){n=yo(i),t=e(So(i),o+1);continue e}return o+1|0}return 0|o}}(e,0)}function Co(e,n,t){let r;if(null!=e){const n=e;r=n instanceof mo?bo(n):1}else r=0;let o;if(null!=t){const e=t;o=e instanceof mo?bo(e):1}else o=0;const i=0|(r<o?o:r);if(0===i){return wo(n)}return po(n,e,t,i+1)}function Eo(e,n,t){let r,o,i,s,u;if(null!=e){const n=e;u=n instanceof mo?bo(n):1}else u=0;let c;if(null!=t){const e=t;c=e instanceof mo?bo(e):1}else c=0;if(c>u+2){const i=t;if(i instanceof mo){if(r=yo(i),(null!=r?(o=r,o instanceof mo?bo(o):1):0)>u+1){const t=yo(i);if(t instanceof mo)return Co(Co(e,n,yo(t)),go(t),Co(So(t),go(i),So(i)));throw new Error("internal error: Set.rebalance")}return Co(Co(e,n,yo(i)),go(i),So(i))}throw new Error("internal error: Set.rebalance")}if(u>c+2){const r=e;if(r instanceof mo){if(i=So(r),(null!=i?(s=i,s instanceof mo?bo(s):1):0)>c+1){const e=So(r);if(e instanceof mo)return Co(Co(yo(r),go(r),yo(e)),go(e),Co(So(e),n,t));throw new Error("internal error: Set.rebalance")}return Co(yo(r),go(r),Co(So(r),n,t))}throw new Error("internal error: Set.rebalance")}return Co(e,n,t)}function xo(e,n,t){if(null!=t){const r=t,o=0|e.Compare(n,go(r));if(r instanceof mo)return o<0?Eo(xo(e,n,yo(r)),go(r),So(r)):0===o?t:Eo(yo(r),go(r),xo(e,n,So(r)));{const o=0|e.Compare(n,go(r));if(o<0){return po(n,void 0,t,2)}if(0===o)return t;return po(n,t,void 0,2)}}return wo(n)}function ko(e,n,t){e:for(;;){const r=e,o=n,i=t;if(null!=i){const s=i,u=0|r.Compare(o,go(s));if(s instanceof mo){if(u<0){e=r,n=o,t=yo(s);continue e}if(0===u)return!0;e=r,n=o,t=So(s);continue e}return 0===u}return!1}}class To extends O{constructor(e,n){super(),this.stack=e,this.started=n}}function Mo(e){let n;e:for(;;){const t=e;if(null==t.tail)return new T;{const r=t.head,o=t.tail;if(null!=r){const i=r;if(i instanceof mo){e=new T(yo(i),new T((n=wo(go(i)),n),new T(So(i),o)));continue e}return t}e=o}}}function Oo(e){return new To(Mo(new T(e,new T)),!1)}function Io(e){if(e.started){const n=e.stack;if(null==n.tail)return function(){throw new Error("Enumeration already started")}();if(null!=n.head){return go(n.head)}throw new Error("Please report error: Set iterator, unexpected stack for current")}return function(){throw new Error("Enumeration not started")}()}function Fo(e){let n=Oo(e);return{"System.Collections.Generic.IEnumerator`1.get_Current":()=>Io(n),"System.Collections.IEnumerator.get_Current":()=>Io(n),"System.Collections.IEnumerator.MoveNext":()=>function(e){if(e.started){const n=e.stack;if(null!=n.tail){if(null!=n.head){if(n.head instanceof mo)throw new Error("Please report error: Set iterator, unexpected stack for moveNext");return e.stack=Mo(n.tail),!(null==e.stack.tail)}throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return!1}return e.started=!0,!(null==e.stack.tail)}(n),"System.Collections.IEnumerator.Reset"(){n=Oo(e)},Dispose(){}}}function Ro(e,n,t){return null==n?null==t?0:-1:null==t?1:0|function(e,n,t){let r,o,i,s,u,c,l,a,f,h,d,w,g,m,p,y,S,b,v,C,E,x,k;e:for(;;){const M=e,O=n,I=t,F=[O,I];if(null==F[0].tail)return null==F[1].tail?0:-1;if(null==F[1].tail)return 1;if(null!=F[1].head)if(null!=F[0].head){const y=F[0].head,S=F[1].head;if(y instanceof mo)if(r=yo(y),null==r){if(!(S instanceof mo)){const r=0|M.Compare(go(y),go(S));if(0!==r)return 0|r;e=M,n=new T(So(y),F[0].tail),t=new T(void 0,F[1].tail);continue e}if(o=yo(S),null==o){const r=0|M.Compare(go(y),go(S));if(0!==r)return 0|r;e=M,n=new T(So(y),F[0].tail),t=new T(So(S),F[1].tail);continue e}{const r=[O,I];let o,l,a,f,h;switch(null!=r[0].tail&&null!=r[0].head?(o=0,l=r[0].tail,a=r[0].head):null!=r[1].tail&&null!=r[1].head?(o=1,f=r[1].tail,h=r[1].head):o=2,o){case 0:if(a instanceof mo){e=M,n=new T(yo(a),new T((i=po(go(a),void 0,So(a),0),i),l)),t=I;continue e}e=M,n=new T(void 0,new T((s=wo(go(a)),s),l)),t=I;continue e;case 1:if(h instanceof mo){e=M,n=O,t=new T(yo(h),new T((u=po(go(h),void 0,So(h),0),u),f));continue e}e=M,n=O,t=new T(void 0,new T((c=wo(go(h)),c),f));continue e;case 2:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const r=[O,I];let o,i,s,u,c;switch(null!=r[0].tail&&null!=r[0].head?(o=0,i=r[0].tail,s=r[0].head):null!=r[1].tail&&null!=r[1].head?(o=1,u=r[1].tail,c=r[1].head):o=2,o){case 0:if(s instanceof mo){e=M,n=new T(yo(s),new T((l=po(go(s),void 0,So(s),0),l),i)),t=I;continue e}e=M,n=new T(void 0,new T((a=wo(go(s)),a),i)),t=I;continue e;case 1:if(c instanceof mo){e=M,n=O,t=new T(yo(c),new T((f=po(go(c),void 0,So(c),0),f),u));continue e}e=M,n=O,t=new T(void 0,new T((h=wo(go(c)),h),u));continue e;case 2:throw new Error("unexpected state in SetTree.compareStacks")}}else{if(!(S instanceof mo)){const r=0|M.Compare(go(y),go(S));if(0!==r)return 0|r;e=M,n=F[0].tail,t=F[1].tail;continue e}if(d=yo(S),null==d){const r=0|M.Compare(go(y),go(S));if(0!==r)return 0|r;e=M,n=new T(void 0,F[0].tail),t=new T(So(S),F[1].tail);continue e}{const r=[O,I];let o,i,s,u,c;switch(null!=r[0].tail&&null!=r[0].head?(o=0,i=r[0].tail,s=r[0].head):null!=r[1].tail&&null!=r[1].head?(o=1,u=r[1].tail,c=r[1].head):o=2,o){case 0:if(s instanceof mo){e=M,n=new T(yo(s),new T((w=po(go(s),void 0,So(s),0),w),i)),t=I;continue e}e=M,n=new T(void 0,new T((g=wo(go(s)),g),i)),t=I;continue e;case 1:if(c instanceof mo){e=M,n=O,t=new T(yo(c),new T((m=po(go(c),void 0,So(c),0),m),u));continue e}e=M,n=O,t=new T(void 0,new T((p=wo(go(c)),p),u));continue e;case 2:throw new Error("unexpected state in SetTree.compareStacks")}}}}else{F[1].head;const r=[O,I];let o,i,s,u,c;switch(null!=r[0].tail&&null!=r[0].head?(o=0,i=r[0].tail,s=r[0].head):null!=r[1].tail&&null!=r[1].head?(o=1,u=r[1].tail,c=r[1].head):o=2,o){case 0:if(s instanceof mo){e=M,n=new T(yo(s),new T((y=po(go(s),void 0,So(s),0),y),i)),t=I;continue e}e=M,n=new T(void 0,new T((S=wo(go(s)),S),i)),t=I;continue e;case 1:if(c instanceof mo){e=M,n=O,t=new T(yo(c),new T((b=po(go(c),void 0,So(c),0),b),u));continue e}e=M,n=O,t=new T(void 0,new T((v=wo(go(c)),v),u));continue e;case 2:throw new Error("unexpected state in SetTree.compareStacks")}}else{if(null==F[0].head){e=M,n=F[0].tail,t=F[1].tail;continue e}{F[0].head;const r=[O,I];let o,i,s,u,c;switch(null!=r[0].tail&&null!=r[0].head?(o=0,i=r[0].tail,s=r[0].head):null!=r[1].tail&&null!=r[1].head?(o=1,u=r[1].tail,c=r[1].head):o=2,o){case 0:if(s instanceof mo){e=M,n=new T(yo(s),new T((C=po(go(s),void 0,So(s),0),C),i)),t=I;continue e}e=M,n=new T(void 0,new T((E=wo(go(s)),E),i)),t=I;continue e;case 1:if(c instanceof mo){e=M,n=O,t=new T(yo(c),new T((x=po(go(c),void 0,So(c),0),x),u));continue e}e=M,n=O,t=new T(void 0,new T((k=wo(go(c)),k),u));continue e;case 2:throw new Error("unexpected state in SetTree.compareStacks")}}}break}}(e,new T(n,new T),new T(t,new T))}function Ao(e,n,t){let r=0|t;!function e(n,t){e:for(;;){const r=n,o=t;if(null!=o){const i=o;if(i instanceof mo){e(r,yo(i)),r(go(i)),n=r,t=So(i);continue e}r(go(i))}break}}(e=>{n[r]=e,r+=1},e)}function Do(e,n){const t=mt(n);try{return function(e,n,t){for(;;){const r=e,o=n,i=t;if(!i["System.Collections.IEnumerator.MoveNext"]())return o;e=r,n=xo(r,i["System.Collections.Generic.IEnumerator`1.get_Current"](),o),t=i}}(e,void 0,t)}finally{t.Dispose()}}class _o{constructor(e,n){this.comparer=e,this.tree=n}GetHashCode(){return 0|function(e){let n=0;const t=mt(e);try{for(;t["System.Collections.IEnumerator.MoveNext"]();){const e=t["System.Collections.Generic.IEnumerator`1.get_Current"](),r=0|n,o=0|h(e);n=(r<<1)+o+631}}finally{t.Dispose()}return 0|Math.abs(n)}(this)}Equals(e){return e instanceof _o&&0===Ro(jo(this),No(this),No(e))}toString(){let e,n;return n=xt(e=>x(e),this),e=Kn("; ",n),"set ["+e+"]"}get[Symbol.toStringTag](){return"FSharpSet"}CompareTo(e){return 0|Ro(jo(this),No(this),No(e))}"System.Collections.Generic.ICollection`1.Add2B595"(e){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Remove2B595"(e){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Contains2B595"(e){return ko(jo(this),e,No(this))}"System.Collections.Generic.ICollection`1.CopyToZ2E171D71"(e,n){Ao(No(this),e,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|Go(this)}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return 0|Go(this)}GetEnumerator(){return Fo(No(this))}[Symbol.iterator](){return pt(this.GetEnumerator())}"System.Collections.IEnumerable.GetEnumerator"(){return Fo(No(this))}get size(){return 0|Go(this)}add(e){throw new Error("Set cannot be mutated")}clear(){throw new Error("Set cannot be mutated")}delete(e){throw new Error("Set cannot be mutated")}has(e){return Po(this,e)}keys(){return xt(e=>e,this)}values(){return xt(e=>e,this)}entries(){return xt(e=>[e,e],this)}forEach(e,n){const t=this;Et(n=>{v(2,e,[n])(n)(t)},t)}}function jo(e){return e.comparer}function No(e){return e.tree}function Go(e){return vo(No(e))}function Po(e,n){return ko(jo(e),n,No(e))}function Lo(e,n){return function(e,n){return new _o(e,n)}(n,Do(n,e))}function Wo(e,n,t){try{return"Expecting "+e+" but instead got:"+(t?"\n":" ")+JSON.stringify(n,null,4)}catch(n){return"Expecting "+e+" but decoder failed. Couldn't report given value due to circular structure."+(t?"\n":" ")}}function Bo(e,n,t){let r;if(r=v(1,n,[e])(t),1===r.tag){const e=r.fields[0];return new ot(1,function(e,n){const t=2===n.tag?Wo(n.fields[0],n.fields[1],!0):1===n.tag?Wo(n.fields[0],n.fields[1],!1)+"\nReason: "+n.fields[2]:3===n.tag?Wo(n.fields[0],n.fields[1],!0):4===n.tag?Wo(n.fields[0],n.fields[1],!0)+"\nNode `"+n.fields[2]+"` is unkown.":5===n.tag?"Expecting "+n.fields[0]+".\n"+JSON.stringify(n.fields[1],null,4):7===n.tag?"The following errors were found:\n\n"+Kn("\n\n",n.fields[0]):6===n.tag?"The following `failure` occurred with the decoder: "+n.fields[0]:Wo(n.fields[0],n.fields[1],!1);return 7===n.tag?t:"Error at: `"+e+"`\n"+t}(e[0],e[1]))}return new ot(0,r.fields[0])}const Uo=e=>n=>{const t=e,r=n;if("number"==typeof r){const e=r;if(isFinite(e)&&Math.floor(e)===e){if(-128<=e&&e<=127)return new ot(0,(e+128&255)-128);{const n=[t,new st(1,"a sbyte",e,"Value was either too large or too small for a sbyte")];return new ot(1,n)}}return new ot(1,[t,new st(1,"a sbyte",e,"Value is not an integral value")])}if("string"==typeof r){let e,n=0;return e=[we(r,511,!1,8,new I(()=>n,e=>{n=e})),n],e[0]?new ot(0,e[1]):new ot(1,[t,new st(0,"a sbyte",r)])}return new ot(1,[t,new st(0,"a sbyte",r)])},$o=e=>n=>{const t=e,r=n;if("number"==typeof r){const e=r;if(isFinite(e)&&Math.floor(e)===e){if(0<=e&&e<=255)return new ot(0,255&e);{const n=[t,new st(1,"a byte",e,"Value was either too large or too small for a byte")];return new ot(1,n)}}return new ot(1,[t,new st(1,"a byte",e,"Value is not an integral value")])}if("string"==typeof r){let e,n=0;return e=[we(r,511,!0,8,new I(()=>n,e=>{n=e})),n],e[0]?new ot(0,e[1]):new ot(1,[t,new st(0,"a byte",r)])}return new ot(1,[t,new st(0,"a byte",r)])},Vo=e=>n=>{const t="an int16",r=e,o=n;if("number"==typeof o){const e=o;if(isFinite(e)&&Math.floor(e)===e){if(-32768<=e&&e<=32767)return new ot(0,(e+32768&65535)-32768);{const n=[r,new st(1,t,e,"Value was either too large or too small for "+t)];return new ot(1,n)}}return new ot(1,[r,new st(1,t,e,"Value is not an integral value")])}if("string"==typeof o){let e,n=0;return e=[we(o,511,!1,16,new I(()=>n,e=>{n=e})),n],e[0]?new ot(0,e[1]):new ot(1,[r,new st(0,t,o)])}return new ot(1,[r,new st(0,t,o)])},qo=e=>n=>{const t="an uint16",r=e,o=n;if("number"==typeof o){const e=o;if(isFinite(e)&&Math.floor(e)===e){if(0<=e&&e<=65535)return new ot(0,65535&e);{const n=[r,new st(1,t,e,"Value was either too large or too small for "+t)];return new ot(1,n)}}return new ot(1,[r,new st(1,t,e,"Value is not an integral value")])}if("string"==typeof o){let e,n=0;return e=[we(o,511,!0,16,new I(()=>n,e=>{n=e})),n],e[0]?new ot(0,e[1]):new ot(1,[r,new st(0,t,o)])}return new ot(1,[r,new st(0,t,o)])},Ho=e=>n=>{const t=e,r=n;if("number"==typeof r){const e=r;if(isFinite(e)&&Math.floor(e)===e){if(-2147483648<=e&&e<=2147483647)return new ot(0,~~e);{const n=[t,new st(1,"an int",e,"Value was either too large or too small for an int")];return new ot(1,n)}}return new ot(1,[t,new st(1,"an int",e,"Value is not an integral value")])}if("string"==typeof r){let e,n=0;return e=[we(r,511,!1,32,new I(()=>n,e=>{n=e})),n],e[0]?new ot(0,e[1]):new ot(1,[t,new st(0,"an int",r)])}return new ot(1,[t,new st(0,"an int",r)])},zo=e=>n=>{const t="an uint32",r=e,o=n;if("number"==typeof o){const e=o;if(isFinite(e)&&Math.floor(e)===e){if(0<=e&&e<=4294967295)return new ot(0,e>>>0);{const n=[r,new st(1,t,e,"Value was either too large or too small for "+t)];return new ot(1,n)}}return new ot(1,[r,new st(1,t,e,"Value is not an integral value")])}if("string"==typeof o){let e,n=0;return e=[we(o,511,!0,32,new I(()=>n,e=>{n=e})),n],e[0]?new ot(0,e[1]):new ot(1,[r,new st(0,t,o)])}return new ot(1,[r,new st(0,t,o)])};function Jo(e,n){if("string"==typeof n){let r,o=Cn(-621355968e5,0);if(r=[xn(n,new I(()=>o,e=>{o=e})),o],r[0]){const e=1===(t=r[1]).kind?t:Cn(t.getTime(),1);return new ot(0,e)}return new ot(1,[e,new st(0,"a datetime",n)])}return new ot(1,[e,new st(0,"a datetime",n)]);var t}function Zo(e,n){if("string"==typeof n){let t,r=xr(-621355968e5,0);return t=[kr(n,new I(()=>r,e=>{r=e})),r],t[0]?new ot(0,t[1]):new ot(1,[e,new st(0,"a datetimeoffset",n)])}return new ot(1,[e,new st(0,"a datetime",n)])}function Yo(e,n,t,r){let o;const i=t+".["+c(e)+"]";if(Array.isArray(r)){const t=r;if(e<t.length)return n(i,t[e]);{const n="a longer array. Need index `"+c(e)+"` but there are only `"+(o=0|t.length,c(o)+"` entries");return new ot(1,[i,new st(5,n,r)])}}return new ot(1,[i,new st(0,"an array",r)])}function Xo(e,n,t){if(Array.isArray(t)){let r,o=-1;return r=At((t,r)=>{if(o+=1,0===t.tag){const i=e(n+".["+c(o)+"]",r);return 0===i.tag?new ot(0,br(i.fields[0],t.fields[0])):new ot(1,i.fields[0])}return t},new ot(0,Sr()),t),it(Cr,r)}return new ot(1,[n,new st(0,"a list",t)])}function Ko(e,n,t){if(Array.isArray(t)){let r=-1;const o=t,i=Mt(new Array(o.length),0,o.length,null);return At((t,o)=>{if(r+=1,0===t.tag){const i=t.fields[0],s=e(n+".["+c(r)+"]",o);return 0===s.tag?(i[r]=s.fields[0],new ot(0,i)):new ot(1,s.fields[0])}return t},new ot(0,i),o)}return new ot(1,[n,new st(0,"an array",t)])}function Qo(e,n,t,r){const o=n(t,r);return 0===o.tag?e(o.fields[0],t,r):new ot(1,o.fields[0])}function ei(e,n){let t;const r=e;return t=e=>n=>Yo(0,r,e,n),e=>r=>Qo(b(3,e=>{let t;const r=n;return t=e=>n=>Yo(1,r,e,n),n=>r=>Qo((n,t,r)=>new ot(0,[e,n]),b(2,t),n,r)}),b(2,t),e,r)}function ni(e,n,t,r){let o,i,s,u,c,l;if(n.length!==r.length){const a=[t,(i=0|n.length,s=0|r.length,u=Jn(Hn("Expected %i %s but got %i")),c=u(i),l=c(e),o=l(s),new st(6,o))];return new ot(1,a)}return a=b(3,C(e=>n=>r=>0===r.tag?it(e=>br(e,r.fields[0]),n(t,e)):r,[0,[0,2],0])),f=r,h=n,d=new ot(0,Sr()),Dt((e,n,t,r)=>a(n,t,r),f,h,d);var a,f,h,d}function ti(e,n,t,r,o,i){let s;if(s=function(e,n){return n.find(e)}(e=>z(e)===r,re(t)),null!=s){const t=s;if(0===i.length){const e=ae(t,[]);return new ot(0,e)}{let r;r=Ot(t=>oi(e,n,!1,t[1]),le(t));return it(e=>ae(t,Array.from(e)),ni("union fields",r,o,i))}}{const e=[o,new st(6,"Cannot find case "+r+" in "+J(t))];return new ot(1,e)}}function ri(e,n,t,r){const o=new I(null);let i;const s=J(r);let u;if(i=uo(s,o,e),ue(r)){let e;const t=oe(r);e=Ot(e=>[lt(n,z(e)),oi(i,n,!1,e[1])],t),u=n=>t=>{const o=function(e,n,t){return null===t||Object.getPrototypeOf(t||!1)!==Object.prototype?new ot(1,[n,new st(0,"an object",t)]):function(e,n,t){return n.reduceRight((n,t)=>e(t,n),t)}(b(2,e=>{const r=e[0];return o=>{if(0===o.tag){return it(e=>br(e,o.fields[0]),e[1](n+"."+r)(t[r]))}return o}}),e,new ot(0,Sr()))}(e,n,t);return it(e=>function(e,n){const t=oe(e);if(t.length!==n.length)throw new Error(`Expected an array of length ${t.length} but got ${n.length}`);return null!=e.construct?new e.construct(...n):t.reduce((e,[t,r],o)=>(e[t]=n[o],e),{})}(r,Array.from(e)),o)}}else if(se(r))u=e=>t=>{if("string"==typeof t)return ti(i,n,r,t,e,[]);if(Array.isArray(t)){const o=t;let s;return s=o[0],ti(i,n,r,s,e,o.slice(1,o.length))}return new ot(1,[e,new st(0,"a string or array",t)])};else{if(!t){let e;const n=J(r);throw e=Jn(Hn("Cannot generate auto decoder for %s. Please pass an extra decoder."))(n),new Error(e)}u=e=>n=>new ot(1,[e,new st(2,"an extra coder for "+J(r),n)])}return o.contents=u,u}function oi(e,n,t,r){let o,i;const s=J(r),u=co(s,e);if(null==u){if(Z(r)){let t;const o=Y(r);return t=oi(e,n,!1,o),e=>n=>Ko(b(2,t),e,n)}if(K(r)){const e=J(ee(r));return"System.SByte"===e?e=>n=>{const t=r,o=e,i=n,s=Uo(o)(i);if(1===s.tag)return new ot(1,s.fields[0]);{const e=0|s.fields[0];let n,r;if(r=ne(t),n=vt(e,r),n){const n=te(t,e.toString());return new ot(0,n)}{const e=[o,new st(1,J(t),i,"Unkown value provided for the enum")];return new ot(1,e)}}}:"System.Byte"===e?e=>n=>{const t=r,o=e,i=n,s=$o(o)(i);if(1===s.tag)return new ot(1,s.fields[0]);{const e=s.fields[0];let n,r;if(r=ne(t),n=vt(e,r),n){const n=te(t,e.toString());return new ot(0,n)}{const e=[o,new st(1,J(t),i,"Unkown value provided for the enum")];return new ot(1,e)}}}:"System.Int16"===e?e=>n=>{const t=r,o=e,i=n,s=Vo(o)(i);if(1===s.tag)return new ot(1,s.fields[0]);{const e=0|s.fields[0];let n,r;if(r=ne(t),n=vt(e,r),n){const n=te(t,(u=(u=e)<0&&null!=c&&10!==c?65535+u+1:u).toString(c));return new ot(0,n)}{const e=[o,new st(1,J(t),i,"Unkown value provided for the enum")];return new ot(1,e)}}var u,c}:"System.UInt16"===e?e=>n=>{const t=r,o=e,i=n,s=qo(o)(i);if(1===s.tag)return new ot(1,s.fields[0]);{const e=s.fields[0];let n,r;if(r=ne(t),n=vt(e,r),n){const n=te(t,e.toString());return new ot(0,n)}{const e=[o,new st(1,J(t),i,"Unkown value provided for the enum")];return new ot(1,e)}}}:"System.Int32"===e?e=>n=>{const t=r,o=e,i=n,s=Ho(o)(i);if(1===s.tag)return new ot(1,s.fields[0]);{const e=0|s.fields[0];let n,r;if(r=ne(t),n=vt(e,r),n){const n=te(t,c(e));return new ot(0,n)}{const e=[o,new st(1,J(t),i,"Unkown value provided for the enum")];return new ot(1,e)}}}:"System.UInt32"===e?e=>n=>{const t=r,o=e,i=n,s=zo(o)(i);if(1===s.tag)return new ot(1,s.fields[0]);{const e=s.fields[0];let n,r;if(r=ne(t),n=vt(e,r),n){const n=te(t,e.toString());return new ot(0,n)}{const e=[o,new st(1,J(t),i,"Unkown value provided for the enum")];return new ot(1,e)}}}:(o=Zn(Hn("Cannot generate auto decoder for %s.\nThoth.Json.Net only support the folluwing enum types:\n- sbyte\n- byte\n- int16\n- uint16\n- int\n- uint32\nIf you can't use one of these types, please pass an extra decoder.\n                    ")),e=>{const n=o(e);return e=>n(e)})(J(r))}if(X(r)){if(ce(r)){let t;const o=ie(r);return t=Ot(t=>oi(e,n,!1,t),o),e=>n=>{if(Array.isArray(n)){return it(e=>Array.from(e),ni("tuple elements",t,e,n))}return new ot(1,[e,new st(0,"an array",n)])}}{const o=J(Q(r));if("Microsoft.FSharp.Core.FSharpOption`1[System.Object]"===o){let t,o;const i=A(r)[0];return o=oi(e,n,!0,i),t=e=>n=>{return t=b(2,o),r=e,null==(i=n)?new ot(0,void 0):it(nt,t(r,i));var t,r,i},t}if("Microsoft.FSharp.Collections.FSharpList`1[System.Object]"===o){let t,o;const i=A(r)[0];return o=oi(e,n,!1,i),t=e=>n=>Xo(b(2,o),e,n),t}if("Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]"===o){let t;const o=A(r)[0];let s;t=oi(e,n,!1,o);const u=A(r)[1];let c;s=oi(e,n,!1,u);const l=Er([e=>n=>function(e,n,t,r){if(null===r||Object.getPrototypeOf(r||!1)!==Object.prototype)return new ot(1,[t,new st(0,"an object",r)]);{const o=Object.keys(r);return Ct((o,i)=>{if(0===o.tag){let s;if(s=v(1,e,[t])(i),0===s.tag){const e=n(t+"."+i,r[i]);return 0===e.tag?new ot(0,br([s.fields[0],e.fields[0]],o.fields[0])):new ot(1,e.fields[0])}return new ot(1,s.fields[0])}return o},new ot(0,Sr()),o)}}(b(2,t),b(2,s),e,n),(i=ei(b(2,t),b(2,s)),e=>n=>Xo(b(2,i),e,n))],new T);return c=e=>n=>{return t=e,r=n,((e,n)=>{e:for(;;){const s=e,u=n;if(null==s.tail)return new ot(1,[t,new st(7,u)]);{const c=Bo(t,b(2,s.head),r);if(1===c.tag){e=s.tail,o=u,i=c.fields[0],n=vr((e,n)=>new T(n,e),new T(i,Sr()),Cr(o));continue e}return new ot(0,c.fields[0])}}var o,i})(l,Sr());var t,r},e=>n=>function(e,n,t,r){const o=n(t,r);return 1===o.tag?new ot(1,o.fields[0]):new ot(0,e(o.fields[0]))}(e=>ao(e),b(2,c),e,n)}if("Microsoft.FSharp.Collections.FSharpSet`1[System.Object]"===o){let t;const o=A(r)[0];return t=oi(e,n,!1,o),e=>n=>{const r=Ko(b(2,t),e,n);if(0===r.tag){let e;return e=Lo(r.fields[0],{Compare:S}),new ot(0,e)}return new ot(1,r.fields[0])}}return ri(e,n,t,r)}}return"System.Boolean"===s?e=>n=>{return t=e,"boolean"==typeof(r=n)?new ot(0,r):new ot(1,[t,new st(0,"a boolean",r)]);var t,r}:"Microsoft.FSharp.Core.Unit"===s?e=>n=>{return t=e,null==(r=n)?new ot(0,void 0):new ot(1,[t,new st(0,"null",r)]);var t,r}:"System.String"===s?e=>n=>{return t=e,"string"==typeof(r=n)?new ot(0,r):new ot(1,[t,new st(0,"a string",r)]);var t,r}:"System.SByte"===s?Uo:"System.Byte"===s?$o:"System.Int16"===s?Vo:"System.UInt16"===s?qo:"System.Int32"===s?Ho:"System.UInt32"===s?zo:"System.Double"===s?e=>n=>{return t=e,"number"==typeof(r=n)?new ot(0,r):new ot(1,[t,new st(0,"a float",r)]);var t,r}:"System.Single"===s?e=>n=>{return t=e,"number"==typeof(r=n)?new ot(0,r):new ot(1,[t,new st(0,"a float32",r)]);var t,r}:"System.DateTime"===s?e=>n=>Jo(e,n):"System.DateTimeOffset"===s?e=>n=>Zo(e,n):"System.TimeSpan"===s?e=>n=>function(e,n){if("string"==typeof n){let t,r=0;return t=[Fr(n,new I(()=>r,e=>{r=e})),r],t[0]?new ot(0,t[1]):new ot(1,[e,new st(0,"a timespan",n)])}return new ot(1,[e,new st(0,"a timespan",n)])}(e,n):"System.Guid"===s?e=>n=>function(e,n){if("string"==typeof n){let t,r="00000000-0000-0000-0000-000000000000";return t=[wt(n,new I(()=>r,e=>{r=e})),r],t[0]?new ot(0,t[1]):new ot(1,[e,new st(0,"a guid",n)])}return new ot(1,[e,new st(0,"a guid",n)])}(e,n):"System.Object"===s?e=>e=>new ot(0,e):ri(e,n,t,r)}{const e=u;return n=>t=>e.contents(n)(t)}}function ii(e,n,t){const r=rt(e,new ut(0));let o;const i=t.ResolveType();return o=oi(function(e){if(null!=e){return lo((e,n)=>new I(n[1]),e.Coders)}return fo()}(n),r,!1,i),o}class si extends O{constructor(e,n,t,r,o,i,s){super(),this.FileName=e,this.StartLineAlternate=0|n,this.StartColumn=0|t,this.EndLineAlternate=0|r,this.EndColumn=0|o,this.Message=i,this.IsWarning=s}}function ui(){return N("Fable.Standalone.Error",[],si,()=>[["FileName",U],["StartLineAlternate",q],["StartColumn",q],["EndLineAlternate",q],["EndColumn",q],["Message",U],["IsWarning",$]])}class ci extends O{constructor(e,n){super(),this.Name=e,this.Glyph=n}}class li extends M{constructor(e,...n){super(),this.tag=0|e,this.fields=n}cases(){return["CreateChecker","ParseCode","CompileCode","GetTooltip","GetCompletions","GetDeclarationLocation"]}}function ai(){return G("Fable.WebWorker.WorkerRequest",[],li,()=>[[["refsDirUrl",U],["extraRefs",W(U)],["refsExtraSuffix",L(U)],["otherFSharpOptions",W(U)]],[["fsharpCode",U],["otherFSharpOptions",W(U)]],[["fsharpCode",U],["otherFSharpOptions",W(U)]],[["id",j("System.Guid")],["line",q],["column",q],["lineText",U]],[["id",j("System.Guid")],["line",q],["column",q],["lineText",U]],[["id",j("System.Guid")],["line",q],["column",q],["lineText",U]]])}class fi extends O{constructor(e,n,t){super(),this.FCS_checker=e,this.FCS_parsing=n,this.Fable_transform=t}}class hi extends M{constructor(e,...n){super(),this.tag=0|e,this.fields=n}cases(){return["Loaded","LoadFailed","ParsedCode","CompilationFinished","CompilerCrashed","FoundTooltip","FoundCompletions","FoundDeclarationLocation"]}}function di(){return G("Fable.WebWorker.WorkerAnswer",[],hi,()=>[[["version",U]],[],[["errors",W(ui())]],[["jsCode",U],["errors",W(ui())],["stats",N("Fable.WebWorker.CompileStats",[],fi,()=>[["FCS_checker",H],["FCS_parsing",H],["Fable_transform",H]])]],[["message",U]],[["id",j("System.Guid")],["lines",W(U)]],[["id",j("System.Guid")],["Item2",W(N("Fable.Standalone.Completion",[],ci,()=>[["Name",U],["Glyph",U]]))]],[["id",j("System.Guid")],["Item2",L(P(q,q,q,q))]]])}class wi{constructor(e,n,t){this.worker=e;const r=rt(t,"FABLE WORKER");this.listeners=new Map([]),this.worker.addEventListener("message",e=>{const t=e.data;let o,i;switch("string"==typeof t?Xn(t)?o=1:(o=0,i=t):o=1,o){case 0:{const e=function(e,n){try{return Bo("$",e,JSON.parse(n))}catch(e){if(e instanceof SyntaxError)return new ot(1,"Given an invalid JSON: "+e.message);throw e}}(n,i);if(1===e.tag)console.error(nt("["+r+"] Cannot decode:"),e.fields[0]);else{let n=mt(this.listeners.values());try{for(;n["System.Collections.IEnumerator.MoveNext"]();){n["System.Collections.Generic.IEnumerator`1.get_Current"]().OnNext(e.fields[0])}}finally{n.Dispose()}}break}}})}Subscribe(e){return function(e,n){const t=function(){let e="";for(let n=0;n++<36;)e+=51*n&52?(15^n?8^Math.random()*(20^n?16:4):4).toString(16):"-";return e}();return function(e,n,t){if(e.has(n))throw new Error("An item with the same key has already been added. Key: "+n);e.set(n,t)}(e.listeners,t,n),{Dispose(){e.listeners.delete(t)}}}(this,e)}}function gi(e){return e.worker}class mi extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,mi.prototype)}}class pi{constructor(){this.callCount=0}static get maxTrampolineCallCount(){return 2e3}incrementAndCheck(){return this.callCount++>pi.maxTrampolineCallCount}hijack(e){this.callCount=0,setTimeout(e,0)}}function yi(e){return n=>{if(n.cancelToken.isCancelled)n.onCancel(new mi);else if(n.trampoline.incrementAndCheck())n.trampoline.hijack(()=>{try{e(n)}catch(e){n.onError(e)}});else try{e(n)}catch(e){n.onError(e)}}}const Si=new class{Bind(e,n){return function(e,n){return yi(t=>{e({onSuccess:e=>{try{n(e)(t)}catch(e){t.onError(e)}},onError:t.onError,onCancel:t.onCancel,cancelToken:t.cancelToken,trampoline:t.trampoline})})}(e,n)}Combine(e,n){return this.Bind(e,()=>n)}Delay(e){return yi(n=>e()(n))}For(e,n){const t=e[Symbol.iterator]();let r=t.next();return this.While(()=>!r.done,this.Delay(()=>{const e=n(r.value);return r=t.next(),e}))}Return(e){return function(e){return yi(n=>n.onSuccess(e))}(e)}ReturnFrom(e){return e}TryFinally(e,n){return yi(t=>{e({onSuccess:e=>{n(),t.onSuccess(e)},onError:e=>{n(),t.onError(e)},onCancel:e=>{n(),t.onCancel(e)},cancelToken:t.cancelToken,trampoline:t.trampoline})})}TryWith(e,n){return yi(t=>{e({onSuccess:t.onSuccess,onCancel:t.onCancel,cancelToken:t.cancelToken,trampoline:t.trampoline,onError:e=>{try{n(e)(t)}catch(e){t.onError(e)}}})})}Using(e,n){return this.TryFinally(n(e),()=>e.Dispose())}While(e,n){return e()?this.Bind(n,()=>this.While(e,n)):this.Return(void 0)}Zero(){return yi(e=>e.onSuccess(void 0))}},bi=["Fable.Core","FSharp.Core","mscorlib","netstandard","System.Collections","System.Collections.Concurrent","System.ComponentModel","System.ComponentModel.Primitives","System.ComponentModel.TypeConverter","System.Console","System.Core","System.Diagnostics.Debug","System.Diagnostics.Tools","System.Diagnostics.Tracing","System.Globalization","System","System.IO","System.Net.Requests","System.Net.WebClient","System.Numerics","System.Reflection","System.Reflection.Extensions","System.Reflection.Metadata","System.Reflection.Primitives","System.Reflection.TypeExtensions","System.Runtime","System.Runtime.Extensions","System.Runtime.Numerics","System.Text.Encoding","System.Text.Encoding.Extensions","System.Text.RegularExpressions","System.Threading","System.Threading.Tasks","System.ValueTuple"];function vi(e){}const Ci=new class{constructor(e=!1){this._id=0,this._cancelled=e,this._listeners=new Map}get isCancelled(){return this._cancelled}cancel(){if(!this._cancelled){this._cancelled=!0;for(const[,e]of this._listeners)e()}}addListener(e){const n=this._id;return this._listeners.set(this._id++,e),n}removeListener(e){return this._listeners.delete(e)}register(e,n){const t=this,r=this.addListener(null==n?e:()=>e(n));return{Dispose(){t.removeListener(r)}}}};function Ei(e){return yi(n=>e([n.onSuccess,n.onError,n.onCancel]))}function xi(e,n){return function(e,n,t,r,o){"function"!=typeof n&&(o=n,n=void 0);const i=new pi;e({onSuccess:n||vi,onError:t||vi,onCancel:r||vi,cancelToken:o||Ci,trampoline:i})}(e,n)}class ki{constructor(e){this.value=e}}class Ti{add(e){const n=new ki(e);this.firstAndLast?(this.firstAndLast[1].next=n,this.firstAndLast=[this.firstAndLast[0],n]):this.firstAndLast=[n,n]}tryGet(){if(this.firstAndLast){const e=this.firstAndLast[0].value;return this.firstAndLast[0].next?this.firstAndLast=[this.firstAndLast[0].next,this.firstAndLast[1]]:delete this.firstAndLast,e}}}class Mi{constructor(e,n){this.body=e,this.cancellationToken=n||Ci,this.messages=new Ti}}function Oi(e){if(e.continuation){const n=e.messages.tryGet();if(n){const t=e.continuation;delete e.continuation,t(n)}}}function Ii(e){var n,t;n=e.body(e),t=e.cancellationToken,xi(n,t)}function Fi(e){return e}function Ri(e){return Array.from(e)}function Ai(e){return vn(e,"O")}function Di(e){return Ir(e)}function _i(e){return String(e)}function ji(e){return String(e)}function Ni(e){return String(e)}function Gi(e){return String(e)}function Pi(){return null}function Li(e){return vn(e,"O")}function Wi(e){return n=>{let t;var r,o;return r=e,t=null!=(o=n)?nt(r(tt(o))):void 0,function(e,n){return null!=e?tt(e):n()}(t,()=>null)}}function Bi(e,n,t,r){const o=new I(null);let i;const s=J(r);let u;if(i=uo(s,o,e),ue(r)){let e;const o=oe(r);e=Ot(e=>{const r=lt(n,z(e)),o=Ui(i,n,t,e[1]);return n=>i=>{const s=n[e[0]];return(!t||t&&null!=s)&&(i[r]=o(s)),i}},o),u=n=>Ct(b(2,C(e=>t=>t(n,e),[0,[0,2]])),{},e)}else{if(!se(r)){let e;const n=J(r);throw e=Jn(Hn("Cannot generate auto encoder for %s. Please pass an extra encoder."))(n),new Error(e)}u=e=>{const o=function(e,n){const t=re(n)[e.tag];if(null==t)throw new Error(`Cannot find case ${e.name} in union type`);return[t,e.fields]}(e,r),s=o[0],u=o[1],c=0|u.length;if(0===c){return z(s)}{const e=0|c,r=le(s),o=Mt(new Array(e+1),0,e+1,null),l=z(s);o[0]=l;for(let s=1;s<=e;s++){const e=Ui(i,n,t,r[s-1][1]);o[s]=e(u[s-1])}return o}}}return o.contents=u,u}function Ui(e,n,t,r){let o;const s=J(r),u=co(s,e);if(null==u){if(Z(r)){let o;const i=Y(r);return o=Ui(e,n,t,i),e=>{let n;return n=xt(o,e),Ri(n)}}if(K(r)){const e=J(ee(r));return"System.SByte"===e?_i:"System.Byte"===e?ji:"System.Int16"===e?Ni:"System.UInt16"===e?Gi:"System.Int32"===e?e=>e:"System.UInt32"===e?e=>e:(o=Zn(Hn("Cannot generate auto encoder for %s.\nThoth.Json.Net only support the folluwing enum types:\n- sbyte\n- byte\n- int16\n- uint16\n- int\n- uint32\nIf you can't use one of these types, please pass an extra encoder.\n                    ")),e=>o(e))(J(r))}if(X(r)){if(ce(r)){let o;const i=ie(r);return o=Ot(r=>Ui(e,n,t,r),i),e=>{let n;var t,r;return t=(e,n)=>o[e](n),r=e,n=bt(()=>{let e=0;return kt(n=>{const r=n.next();return r.done?void 0:[t(e++,r.value),n]},r[Symbol.iterator]())}),Ri(n)}}{const o=J(Q(r));if("Microsoft.FSharp.Core.FSharpOption`1[System.Object]"===o){const o=new i(()=>{let o,i;const s=A(r)[0];return i=Ui(e,n,t,s),o=Wi(i),o});return e=>null==e?null:o.Value(e)}if("Microsoft.FSharp.Collections.FSharpList`1[System.Object]"===o||"Microsoft.FSharp.Collections.FSharpSet`1[System.Object]"===o){let o;const i=A(r)[0];return o=Ui(e,n,t,i),e=>{let n;return n=xt(o,e),Ri(n)}}if("Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]"===o){const o=A(r)[0];let i;const s=A(r)[1];if(i=Ui(e,n,t,s),"System.String"===J(o)||"System.Guid"===J(o))return e=>Ct((e,n)=>{const t=n;return e[t[0]]=i(t[1]),e},{},e);{let r;const s=Ui(e,n,t,o);return r=s,e=>{let n;return n=xt(e=>{const n=e;return[r(n[0]),i(n[1])]},e),Ri(n)}}}return Bi(e,n,t,r)}}return"System.Boolean"===s?e=>e:"Microsoft.FSharp.Core.Unit"===s?Pi:"System.String"===s?e=>e:"System.SByte"===s?_i:"System.Byte"===s?ji:"System.Int16"===s?Ni:"System.UInt16"===s?Gi:"System.Int32"===s?e=>e:"System.UInt32"===s?e=>e:"System.Double"===s?e=>e:"System.Single"===s?e=>e:"System.DateTime"===s?Li:"System.DateTimeOffset"===s?Ai:"System.TimeSpan"===s?Di:"System.Guid"===s?Fi:"System.Object"===s?e=>e:Bi(e,n,t,r)}{const e=u;return n=>e.contents(n)}}function $i(e,n,t,r){const o=rt(e,new ut(0)),i=rt(t,!0);let s;const u=r.ResolveType();return s=Ui(function(e){if(null!=e){return lo((e,n)=>new I(n[0]),e.Coders)}return fo()}(n),o,i,u),s}function Vi(e,n,t,r,o,i){return function(e,n){return JSON.stringify(n,b(2,null),nt(e))}(e,$i(t,r,o,i)(n))}class qi{constructor(e,n,t){this.OnNext=e,this.OnError=n||(e=>{}),this.OnCompleted=t||(()=>{})}}const Hi="test.fs";importScripts("bundle.min.js");const zi=function(e,n){return Promise.all(n.map(n=>function(e,n){return fetch(e(n)).then((function(e){if(e.ok)return e.arrayBuffer().then(e=>[n,new Uint8Array(e)]);throw new Error("[ASSEMBLY LOAD] "+e.status+": "+e.statusText)}))}(e,n))).then((function(e){var n=new Map;for(var t of e)n.set(t[0]+".dll",t[1]);return e=>n.get(e)}))},Ji=function(e){return JSON.stringify(e).slice(1,-1).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")};function Zi(e,n){const t=self.performance.now();return[e(n),self.performance.now()-t]}class Yi extends O{constructor(e,n,t,r,o,i){super(),this.Manager=e,this.Checker=n,this.LoadTime=t,this.References=r,this.Reader=o,this.OtherFSharpOptions=i}}function Xi(){return N("Fable.WebWorker.Main.FableState",[],Yi,()=>{return[["Manager",j("Fable.Standalone.IFableManager")],["Checker",j("Fable.Standalone.IChecker")],["LoadTime",H],["References",W(U)],["Reader",(e=U,n=W(V),new R("Microsoft.FSharp.Core.FSharpFunc`2",[e,n]))],["OtherFSharpOptions",W(U)]];var e,n})}class Ki extends M{constructor(e,...n){super(),this.tag=0|e,this.fields=n}cases(){return["Init","Initialized"]}}function Qi(){return G("Fable.WebWorker.Main.FableStateConfig",[],Ki,()=>[[["refsDirUrl",U],["extraRefs",W(U)],["refsExtraSuffix",L(U)]],[["Item",Xi()]]])}class es extends O{constructor(e,n,t){super(),this.Fable=e,this.Worker=n,this.CurrentResults=t}}function ns(){return N("Fable.WebWorker.Main.State",[],es,()=>{return[["Fable",L(Xi())],["Worker",(e=ai(),j("Fable.WebWorker.ObservableWorker`1",[e],wi))],["CurrentResults",L(j("Fable.Standalone.IParseResults"))]];var e})}class ts{constructor(){this.sb=Ar()}Write(e){const n=this,t=Si;return t.Delay(()=>{let r;return t.Return((o=n.sb,i=e,o.buf.push(i),void(r=o)));var o,i})}EscapeJsStringLiteral(e){return Ji(e)}MakeImportPath(e){return e}Dispose(){}}function rs(){return j("Fable.WebWorker.Main.SourceWriter",void 0,ts)}function os(){return new ts}function is(e){return x(e.sb)}function ss(e,n){const t=Si;return t.Delay(()=>{let r;if(1===e.tag){const r=e.fields[0];if(0===function(e,n,t){if(null==n)return null==t?0:-1;if(null==t)return 1;{let r=0,o=0;const i=0|n.length,s=0|t.length;if(i>s)return 1;if(i<s)return-1;for(;r<i&&0===o;)o=e(n[r],t[r]),r+=1;return 0|o}}(S,r.OtherFSharpOptions,n))return t.Return(r);{const e=Zi(()=>r.Manager.CreateChecker(r.References,r.Reader,n),void 0);return t.Return(new Yi(r.Manager,e[0],e[1],r.References,r.Reader,n))}}{const i=__FABLE_STANDALONE__.init(),s=Tt(bi,e.fields[1]);return t.Bind((r=zi(n=>function(e,...n){return 0===n.length?e.trimEnd():e.replace(new RegExp("["+jn(n.join(""))+"]+$"),"")}(e.fields[0],"/")+"/"+n+".dll"+rt(e.fields[2],""),s),o=r,Ei(e=>o.then(e[0]).catch(n=>(n instanceof mi?e[2]:e[1])(n)))),e=>{const r=e,o=Zi(()=>i.CreateChecker(s,r,n),void 0);return t.Return(new Yi(i,o[0],o[1],s,r,n))})}var o})}function us(e,n){const t=Si;return t.Delay(()=>{return t.Bind((r=e,Ei(e=>{if(r.continuation)throw new Error("Receive can only be called once!");r.continuation=e[0],Oi(r)})),r=>{const o=[n.Fable,r];let i,s,u,c,l,a,f,d,w,g,m,y,S,b,v,C,E,x,k,T,M,O,I,F,R,A;switch(null!=o[0]?1===o[1].tag?(i=2,a=o[0],f=o[1].fields[0],d=o[1].fields[1]):2===o[1].tag?(i=3,w=o[0],g=o[1].fields[0],m=o[1].fields[1]):3===o[1].tag?(i=4,y=o[1].fields[2],S=o[0],b=o[1].fields[0],v=o[1].fields[1],C=o[1].fields[3]):4===o[1].tag?(i=5,E=o[1].fields[2],x=o[0],k=o[1].fields[0],T=o[1].fields[1],M=o[1].fields[3]):5===o[1].tag?(i=6,O=o[1].fields[2],I=o[0],F=o[1].fields[0],R=o[1].fields[1],A=o[1].fields[3]):i=1:0===o[1].tag?(i=0,s=o[1].fields[1],u=o[1].fields[3],c=o[1].fields[0],l=o[1].fields[2]):i=1,i){case 0:return t.TryWith(t.Delay(()=>t.Bind(ss(new Ki(0,c,s,l),u),r=>{const o=r,i=new hi(0,o.Manager.Version);return gi(n.Worker).postMessage(Vi(0,i,void 0,void 0,void 0,{ResolveType:di})),t.ReturnFrom(us(e,new es(o,n.Worker,n.CurrentResults)))})),r=>(console.error(nt("Cannot create F# checker"),r),gi(n.Worker).postMessage(Vi(0,new hi(1),void 0,void 0,void 0,{ResolveType:di})),t.ReturnFrom(us(e,n))));case 1:return t.ReturnFrom(us(e,n));case 2:return t.Bind(ss(new Ki(1,a),d),r=>{const o=r,i=o.Manager.ParseFSharpScript(o.Checker,Hi,f,d),s=new hi(2,i.Errors);return gi(n.Worker).postMessage(Vi(0,s,void 0,void 0,void 0,{ResolveType:di})),t.ReturnFrom(us(e,new es(n.Fable,n.Worker,i)))});case 3:return t.Combine(t.TryWith(t.Delay(()=>{const e=Lo(["--typedArrays","--clampByteArrays","--typescript"],{Compare:p});let r;r=function(e,n,t){const r=0|n.length,o=new(t||Array)(r),i=new(t||Array)(r);let s=0,u=0;for(let t=0;t<=r-1;t++)e(n[t])?(o[s]=n[t],s+=1):(i[u]=n[t],u+=1);return[It(s,o),It(u,i)]}(n=>Po(e,n),m);const o=r[1],i=r[0];return t.Bind(ss(new Ki(1,w),o),e=>{let r;const s=e,u=Zi(()=>s.Manager.ParseFSharpScript(s.Checker,Hi,g,o),void 0),c=u[0];return t.Bind((r=Si,r.Delay(()=>{let e;if(e=c.Errors,e.some(e=>!e.IsWarning))return r.Return(["",c.Errors,0]);{const e=Zi(()=>s.Manager.CompileToBabelAst("fable-library",c,Hi,Ft("--typedArrays",i,{Equals:(e,n)=>e===n,GetHashCode:h}),Ft("--typescript",i,{Equals:(e,n)=>e===n,GetHashCode:h})),void 0),n=e[0],t=os();return r.Bind(s.Manager.PrintBabelAst(n,t),()=>{const o=is(t);return r.Return([o,Tt(c.Errors,n.FableErrors),e[1]])})}})),e=>{const r=new fi(s.LoadTime,u[1],e[2]);return gi(n.Worker).postMessage(Vi(0,new hi(3,e[0],e[1],r),void 0,void 0,void 0,{ResolveType:di})),t.Zero()})})}),e=>{const r=e;console.error(nt(r));const o=new hi(4,r.message);return gi(n.Worker).postMessage(Vi(0,o,void 0,void 0,void 0,{ResolveType:di})),t.Zero()}),t.Delay(()=>t.ReturnFrom(us(e,n))));case 4:{let r;const o=n.CurrentResults;if(null!=o){const e=o;r=S.Manager.GetToolTipText(e,v,y,C)}else r=[];return gi(n.Worker).postMessage(Vi(0,new hi(5,b,r),void 0,void 0,void 0,{ResolveType:di})),t.ReturnFrom(us(e,n))}case 5:{let r;const o=n.CurrentResults;if(null!=o){const e=o;r=x.Manager.GetCompletionsAtLocation(e,T,E,M)}else r=[];return gi(n.Worker).postMessage(Vi(0,new hi(6,k,r),void 0,void 0,void 0,{ResolveType:di})),t.ReturnFrom(us(e,n))}case 6:{let r;const o=n.CurrentResults;if(null!=o){const e=o;r=I.Manager.GetDeclarationLocation(e,R,O,A)}else r=void 0;let i;if(null==r)i=new hi(7,F,void 0);else{const e=r;i=new hi(7,F,[e.StartLine,e.StartColumn,e.EndLine,e.EndColumn])}return gi(n.Worker).postMessage(Vi(0,i,void 0,void 0,void 0,{ResolveType:di})),t.ReturnFrom(us(e,n))}}});var r})}const cs=function(e,n,t){return new wi(e,n,t)}(self,b(2,ii(void 0,void 0,{ResolveType:ai}))),ls=function(e,n){const t=new Mi(e,n);return Ii(t),t}(e=>us(e,new es(void 0,cs,void 0)));var as;as=e=>{var n,t;t=e,(n=ls).messages.add(t),Oi(n)},cs.Subscribe(new qi(as))}]);